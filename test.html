<!DOCTYPE html>
<html lang="es" xml:lang="es">

<head>
    <title>Validacions T-Mobilitat</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta charset="utf-8">

    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <script src="leaflet-sidebar_dark.js"></script>
    <!-- <script src="https://raw.github.com/calvinmetcalf/leaflet-ajax/master/dist/leaflet.ajax.min.js"></script> -->

    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />


    <!-- Mapbox GL -->
    <link href="https://api.tiles.mapbox.com/mapbox-gl-js/v1.2.0/mapbox-gl.css" rel='stylesheet' />
    <script src="https://api.tiles.mapbox.com/mapbox-gl-js/v1.2.0/mapbox-gl.js"></script>
    <script src="https://rawgit.com/mapbox/mapbox-gl-leaflet/master/leaflet-mapbox-gl.js"></script>

    <!-- nearest point -->
    <script src="https://unpkg.com/leaflet-knn@0.1.0/leaflet-knn.js"></script>

    <!--bootstrap i jQuery-->
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>

    <!--Locate Control-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet.locatecontrol/dist/L.Control.Locate.min.css" />
    <script src="https://cdn.jsdelivr.net/npm/leaflet.locatecontrol/dist/L.Control.Locate.min.js"
        charset="utf-8"></script>

    <!--Geocoder -->
    <script src="https://rawgit.com/k4r573n/leaflet-control-osm-geocoder/master/Control.OSMGeocoder.js"></script>
    <link rel="stylesheet"
        href="https://rawgit.com/k4r573n/leaflet-control-osm-geocoder/master/Control.OSMGeocoder.css" />

    <link rel="stylesheet" href="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.css" />
    <script src="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.js"></script>

    <!-- Easy Button -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet-easybutton@2/src/easy-button.css">
    <script src="https://cdn.jsdelivr.net/npm/leaflet-easybutton@2/src/easy-button.js"></script>

    <!--Estils-->
    <style>
        body {
            padding: 0;
            margin: 0;
            overflow: hidden;
        }

        html,
        body,
        #mapid {
            height: 100%;
            font: 10pt "Helvetica Neue", Arial, Helvetica, sans-serif;
        }

        #container {
            width: 100%;
        }

        .leaflet-control-layers-toggle:after {

            color: rgb(26, 24, 24);
            font-weight: bold;
            font-size: 14px;
            padding-right: 50px;
        }

        .leaflet-control-layers-toggle {
            width: auto;
            background-position: 10px 50%;
            text-decoration: none;
            line-height: 36px;
            padding-right: 50px;
        }

        .leaflet-control-container .leaflet-routing-container-hide {
            display: none;
        }

        .barra,
        .btn-group {
            z-index: 10000;
        }

        .barra {
            background: white;
            border-radius: 5px;

            z-index: 10000;
            position: relative;
        }


        .card-img-top {
            width: 100%;
        }

        .btn-primary {
            width: 100%;
            background-color: rgba(10, 10, 10, 0.65);
            border: none;
            font-size: 1.3em !important;
        }

        .btn-primary:hover,
        .btn-primary:after,
        .btn-primary:active {
            background-color: rgb(4, 143, 108);
        }

        .card {
            margin-bottom: 1em;
        }

        .warning {
            text-align: right;
            font-size: 1.6em;
            margin-bottom: 1em;
            margin-top: 1em;

            color: white;
        }

        .warning2 {
            text-align: right;
            font-size: 1.3em;
            padding-bottom: 1em;
            padding-top: 1em;
            padding-right: 1em;

            color: white;
        }

        .leaflet-control-zoom-in,
        .leaflet-control-zoom-out,
        .leaflet-bar-part.leaflet-bar-part-single {
            background: black !important;
            color: white !important;

        }

        .leaflet-control-scale-line {
            background: none !important;
            color: white !important;
        }


        ::-webkit-scrollbar {
            width: 3px;
        }

        /* Track */
        ::-webkit-scrollbar-track {
            box-shadow: inset 0 0 5px black;
            border-radius: 10px;
        }

        /* Handle */
        ::-webkit-scrollbar-thumb {
            background: white;
            border-radius: 10px;
        }

        /* Handle on hover */
        ::-webkit-scrollbar-thumb:hover {
            background: rgb(4, 143, 108);
        }

        /*Slider*/
        .slidecontainer {

            position: absolute;
            width: 50%;
            bottom: 1em;
            right: 0;
            padding: 10px;
            z-index: 1990;

        }

        .slider {
            -webkit-appearance: none;
            width: 100%;
            height: 3px;
            border-radius: 5px;
            color: white;
            background: white;
            outline: none;
            opacity: 0.7;
            -webkit-transition: .2s;
            transition: opacity .2s;

        }

        .slider:hover {
            opacity: 1;
        }

        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 15px;
            height: 15px;
            border-radius: 50%;
            background: white;
            cursor: pointer;
        }

        .slider::-moz-range-thumb {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            background: white;
            cursor: pointer;
        }

        #mapid>div.leaflet-control-container>div.leaflet-bottom.leaflet-right>div {
            background: none !important;
            color: white !important;
        }

        #controls button {
            width: 80px;
        }

        #controls input {
            display: inline;
            padding: 2px;
            margin: 2px;
        }

        i {
            cursor: pointer;
            padding-right: 0.5em;

        }

        i:hover,
        i:after {
            color: white !important;
        }

        #controls {
            position: relative;
            right: 8em;
            bottom: -1.3em;
        }

        .cap {
            pointer-events: none;
            cursor: default;
        }

        .info {
            position: absolute;
            bottom: 1em;
            right: 0;
            padding: 10px;
            z-index: 1990;
        }

        .ajuda {
            background-color: rgb(4, 143, 108);
            border: none;
            color: white;
            padding: 20px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 16px;
            margin: 4px 2px;
            border-radius: 50%;
            top: 1em;
            right: 1em;
            z-index: 1990;
            position: absolute;
        }

        .ajuda:hover {
            background-color: #025a3a !important;
        }

        #infobtn {
            padding-left: 5px;
        }

        #infobtn:hover {
            color: white !important;
        }

        #play:hover,
        #play:after {
            color: rgb(4, 143, 108) !important;
        }

        #forward:hover,
        #forward:after {
            color: rgb(4, 143, 108) !important;
        }

        #backward:hover,
        #backward:after {
            color: rgb(4, 143, 108) !important;
        }

        #pause:hover,
        #pause:after {
            color: rgb(4, 143, 108) !important;
        }


        .modal-title {
            font-size: 1.5em;
            font-weight: bold;
        }

        .modal {
            z-index: 10000000;
            border-radius: 5%;
        }

        .carousel-control.left,
        .carousel-control.right {
            background-image: none;
            color: black;
        }

        .carrussel {
            text-align: center;
            margin-left: 5em;
            margin-right: 5em;
            font-size: 1.2em;

        }

        .carrusseltitol {
            text-align: center;
            margin-left: 5em;
            margin-right: 5em;
            font-size: 1.4em;

        }

        .llista {

            margin-left: 5em;
            margin-right: 5em;
            font-size: 1.2em;
        }

        .avis {
            text-align: center;
            margin-left: 5em;
            margin-right: 5em;
            font-size: 1em;

        }

        .contacte {
            font-size: 1.5em;
            text-align: center;
            margin-bottom: 1em;
            font-weight: bolder;
        }

        .fa.fa-envelope.mt-4.fa-2x:hover,
        .fa.fa-envelope.mt-4.fa-2x:after {
            color: grey !important;
        }

        .fa.fa-phone.mt-4.fa-2x:hover,
        .fa.fa-phone.mt-4.fa-2x:after {
            color: grey !important;
        }

        .sidebar {
            height: 100%;
            width: 0;
            position: fixed;
            z-index: 100000;
            top: 0;
            left: 0;
            background-color: rgba(17, 17, 17, 0.822);
            overflow-x: hidden;
            transition: 0.75s;
            padding-top: 60px;
        }

        .sidebar a {
            padding: 8px 8px 8px 32px;
            text-decoration: none;
            font-size: 25px;
            color: #d8d8d8;
            display: block;
            transition: 0.3s;
        }

        .sidebar a:hover {
            color: #f1f1f1;
        }

        .sidebar .closebtn {
            position: absolute;
            top: 0;
            right: 25px;
            font-size: 36px;
            margin-left: 50px;
        }

        .openbtn {
            position: absolute;
            font-size: 18px;
            cursor: pointer;
            background-color: #111;
            color: white;
            padding: 10px 15px;
            margin-top: 10px;
            margin-left: 10px;
            border: none;
            z-index: 100000;
        }

        .openbtn:hover {
            background-color: rgb(4, 143, 108);
            color: white;
        }

        #main {
            transition: margin-left .5s;
            padding: 16px;

        }

        /* On smaller screens, where height is less than 450px, change the style of the sidenav (less padding and a smaller font size) */
        @media screen and (max-height: 450px) {
            .sidebar {
                padding-top: 15px;

            }

            .sidebar a {
                font-size: 18px;
            }
        }


        .collapsible {
            background-color: black;
            color: white;
            cursor: pointer;
            padding: 18px;
            width: 100%;
            border: none;
            text-align: left;
            outline: none;
            font-size: 15px;
        }

        .collapsible.active,
        .collapsible:hover {
            background-color: rgb(4, 143, 108);
        }

        .collapsible:after {
            content: '\002B';
            color: white;
            font-weight: bold;
            float: right;
            margin-left: 5px;
        }

        .active:after {
            content: "\2212";
        }

        .content {
            padding: 0;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.2s ease-out;
            background-color: black;
        }

        .tanca {
            font-size: 1.2em;
            background: none;
            border: none;
            color: white !important;
            float: right;

        }

        .tanca:active,
        .tanca:hover {
            color: black !important;
        }
    </style>


</head>

<body>


    <!-- Modal info -->
    <div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog"
        aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header" style="background-color: rgb(4, 143, 108);">
                    <h5 class="modal-title" id="exampleModalLongTitle" style="text-align: center; color: white;">
                        Informació <button type="button" class="tanca" data-dismiss="modal">×</button>
                    </h5>

                </div>
                <div class="modal-body">
                    <div id="carousel-example-generic" class="carousel slide" data-ride="carousel"
                        data-interval="false">

                        <!-- Wrapper for slides -->
                        <div class="carousel-inner">
                            <div class="item active">
                                <p class="carrusseltitol"> <strong>Què és?</strong></p> <br>
                                <p class="carrussel">Aquest portal és un visor de mapes web on es poden consultar les
                                    validacions de la T-Mobilitat a nivell d’operador, i per un període de temps
                                    determinat.
                                </p> <br><br>
                                <p class="avis"><i class='fa fa-exclamation-triangle'></i> Actualment, aquesta pàgina es
                                    troba en desenvolupament </p>

                            </div>
                            <div class="item">
                                <p class="carrusseltitol"> <strong>Com funciona?</strong></p> <br>

                                <ul class="llista">
                                    <li>Per carregar les validacions d'un operador, cal seleccionar-lo de la barra
                                        lateral.</li><br>
                                    <li> Per visualitzar les validacions dels diferents dies, s'ha de moure el cursor de
                                        la barra inferior.</li><br>
                                    <li> A través del botó <i class="fa fa-play"></i>es pot visualitzar la seqüència
                                        de tots els dies automàticament.</li><br>
                                    <li> A través dels botons <i class="fa fa-step-backward"></i>i &nbsp;<i
                                            class="fa fa-step-forward"></i>es pot avançar o retrocedir en el temps.</li>
                                </ul>


                            </div>
                            <div class="item">
                                <p class="carrusseltitol"> <strong>Contacte</strong></p> <br>
                                <div class="col-md-12 text-center">
                                    <ul class="list-unstyled mb-0">
                                        <li><a href="mailto:marc.roca@socmobilitat.cat"><i
                                                    class="fa fa-envelope mt-4 fa-2x"
                                                    style="margin-bottom: 0.3em; color:black"></i></a>
                                            <p>marc.roca@socmobilitat.cat</p>
                                        </li>
                                        <br>
                                        <li><a href="tel:930017077"><i class="fa fa-phone mt-4 fa-2x"
                                                    style="margin-bottom: 0.3em; color:black"></i></a>
                                            <p>+ 34 93 001 70 77</p>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <!-- Controls -->
                        <a class="left carousel-control" href="#carousel-example-generic" role="button"
                            data-slide="prev">
                            <span class="glyphicon glyphicon-chevron-left"></span>
                        </a>
                        <a class="right carousel-control" href="#carousel-example-generic" role="button"
                            data-slide="next">
                            <span class="glyphicon glyphicon-chevron-right"></span>
                        </a>
                    </div>

                </div>

            </div>
        </div>
    </div>

    <!--Informació-->

    <button class="ajuda" data-toggle="modal" data-target="#exampleModalCenter"><i class="fa fa-info"
            id="infobtn"></i></button>

    <!--Slider-->
    <div class="opac">
        <div class="info">
            <p class="warning"> Validacions T-Usual<br>
                Gener 2022
            </p>
            <p class="warning2"><span id="demo" style="color:white"></span></p>
        </div>
        <div class="slidecontainer">
            <div id="controls">

                <a><i class="fa fa-step-backward fa-2x" id="backward" style="color:white;" title="Dia anterior"></i></a>

                <a><i class="fa fa-play fa-2x" id="play" style="color:white;" title="Reprodueix"></i></a>

                <a><i class="fa fa-step-forward fa-2x" id="forward" style="color:white;" title="Dia següent"></i></a>




            </div>
            <input type="range" min="1" max="31" value="1" step='1' class="slider" id="myRange"><br>
        </div>
    </div>
    <!--Sidebar-->

    <div id="mySidebar" class="sidebar">

        <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">×</a>

        <button class="collapsible active"> <i class="fa fa-train"
                style="color: white; margin-right: 5px;"></i>Ferroviari</button>
        <div class="content" style="max-height: 762px;">
            <div class="card" style="width: 100%;" onclick=drawTMB()>
                <img class="card-img-top" src="./templates/metro_dark.PNG" alt="">
                <div class="card-body">
                    <a onclick=drawTMB() class="btn btn-primary" id="metro">Metro TMB</a>
                </div>
            </div>
            <div class="card" style="width: 100%;" onclick=drawFGC()>
                <img class="card-img-top" src="./templates/fgc_dark.PNG" alt="">
                <div class="card-body">
                    <a onclick=drawFGC() class="btn btn-primary" id="fgc">FGC</a>
                </div>
            </div>
            <div class="card" style="width: 100%;" onclick=drawROD()>
                <img class="card-img-top" src="./templates/rod_dark.PNG" alt="">
                <div class="card-body">
                    <a onclick=drawROD() class="btn btn-primary" id="rod">Rodalies</a>
                </div>
            </div>

        </div>

        <button class="collapsible"><i class="fa fa-bus" style="color: white; margin-right: 5px;"></i>Viari</button>
        <div class="content">
            <div class="card" style="width: 100%;" onclick=drawTB()>
                <img class="card-img-top" src="./templates/tb_dark.PNG" alt="">
                <div class="card-body">
                    <a onclick=drawTB() class="btn btn-primary" id="tmb">Bus TMB</a>
                </div>
            </div>
            <div class="card" style="width: 100%;" onclick=drawTRAM()>
                <img class="card-img-top" src="./templates/TRAM_dark.PNG" alt="">
                <div class="card-body">
                    <a onclick=drawTRAM() class="btn btn-primary" id="tram">TRAM</a>
                </div>
            </div>
            <div class="card" style="width: 100%;" onclick=drawTUSGSAL()>
                <img class="card-img-top" src="./templates/tusgsal_dark.PNG" alt="">
                <div class="card-body">
                    <a onclick=drawTUSGSAL() class="btn btn-primary" id="tusgsal">TUSGSAL</a>
                </div>
            </div>
            <div class="card" style="width: 100%;" onclick=drawBAIXBUS()>
                <img class="card-img-top" src="./templates/baixbus_dark.PNG" alt="">
                <div class="card-body">
                    <a onclick=drawBAIXBUS() class="btn btn-primary" id="baixbus">Baixbus</a>
                </div>
            </div>
            <div class="card" style="width: 100%;" onclick=drawNITBUS()>
                <img class="card-img-top" src="./templates/nitbus_dark.PNG" alt="">
                <div class="card-body">
                    <a onclick=drawNITBUS() class="btn btn-primary" id="nitbus">Nitbus</a>
                </div>
            </div>

        </div>
        <button class="collapsible"><i class="fa fa-search" style="color: white; margin-right: 5px;"></i>Cerca</button>
        <div class="content" id="profile">

        </div>

    </div>


    <button class="openbtn" onclick="openNav()">☰ &nbsp; Operadors de transport</button>



    <!--Mapa-->

    <div id="mapid" class="sidebar-map"> </div>

    <script>

        //declarem variables globals

        var mymap;
        var selectedDia = parseInt($('#myRange').val());
        var selectedOperador;

        var val30 = $.ajax({
            url: "https://raw.githubusercontent.com/Marcrb3/week/main/val30.geojson",
            dataType: "json",
            success: console.log("Ferroviari carregat correctament."),
            error: function (xhr) {
                alert(xhr.statusText)
            }
        })

        var linies = $.ajax({
            url: "https://raw.githubusercontent.com/Marcrb3/week/main/ferroviari.geojson",
            dataType: "json",
            success: console.log("Línies carregades correctament."),
            error: function (xhr) {
                alert(xhr.statusText)
            }
        })
        var val30_bus = $.ajax({
            url: "https://raw.githubusercontent.com/Marcrb3/week/main/val30_bus.geojson",
            dataType: "json",
            success: console.log("Viari carregat correctament."),
            error: function (xhr) {
                alert(xhr.statusText)
            }
        })

        function openNav() {
            if (window.innerWidth < 450) {
                document.getElementById("mySidebar").style.width = '100%';

            }
            else {
                document.getElementById("mySidebar").style.width = "450px";
            }
            //    document.getElementById("main").style.marginLeft = "450px";
        }

        openNav();

        function closeNav() {
            document.getElementById("mySidebar").style.width = "0";
            //    document.getElementById("main").style.marginLeft = "0";
        }

        var coll = document.getElementsByClassName("collapsible");
        var i;

        for (i = 0; i < coll.length; i++) {
            coll[i].addEventListener("click", function () {
                this.classList.toggle("active");
                var content = this.nextElementSibling;
                if (content.style.maxHeight) {
                    content.style.maxHeight = null;
                } else {
                    content.style.maxHeight = content.scrollHeight + "px";
                }
            });
        }

        $.when(linies, val30, val30_bus).done(function () {

            //mapa base 
            mymap = L.map('mapid', {
                minZoom: 9,
                maxBounds: [
                    //sud-oest
                    [40.33825, -1.0391],
                    //nord-est
                    [42.88239, 5.06357]
                ],
            }).setView([41.385243705090105, 2.1402139383833516], 11.5);

            var Topo = L.mapboxGL({
                style: 'mapbox://styles/marcrb3/ckysuwb5e73u214tfpbiuy3l1',
                accessToken: 'pk.eyJ1IjoibWFyY3JiMyIsImEiOiJjanJqanZvMXowYzdnNDRsbGN4N3JyMGhuIn0.im2TOkqyqEpCXhN4LWoZuA',
                attribution: 'Developed by Marc Roca Ballesteros ©'

            }).addTo(mymap);

            var basemap = {
                'Topogràfic': Topo
            };

            //controls del mapa

            var kxIncidents, kyIncidents, kyCorones, kyAMB, kyBus;
            var capes = L.control.layers(basemap, null, { collapsed: false });
            capes.addTo(mymap);
            capes._container.remove();
            L.control.scale().addTo(mymap);
            grup = L.layerGroup(kxIncidents, kyIncidents, Topo, kyAMB, kyBus);
            var control = L.Control.geocoder({ placeholder: "Cerca..." });

            document.getElementById('profile').appendChild(
                control.onAdd(mymap)
            );

            mymap.zoomControl.remove();

            //slider

            var barra = document.getElementById("myRange");
            var output = document.getElementById("demo");
            output.innerHTML = '01/01/2022';


            //ClearLayers

            L.Map.include({
                'clearLayers': function () {
                    this.eachLayer(function (layer) {
                        this.removeLayer(layer);
                    }, this);
                }
            });

            //Carreguem les capes al iniciar el mapa

            kyIncidents = L.geoJSON(val30.responseJSON);

            kyAMB = L.geoJSON(linies.responseJSON);

            kyBusDilluns = L.geoJSON(val30_bus.responseJSON);




            //Netejem el mapa per poder alternar entre capes

            function neteja() {
                mymap.clearLayers();
                Topo.addTo(mymap);
            }

            //reiniciem slider al carregar nova operadora 

            function resetSlider() {
                barra.value = 1;
                output.innerHTML = '01/01/2022';
                playing = 0;
            }


            //Filtratge per operador FMB

            drawTMB = function () {
                selectedOperador = 'FMB';

                document.getElementById('metro').style.background = "rgb(4, 143, 108)";
                document.getElementById('fgc').style.background = "none";
                document.getElementById('rod').style.background = "none";
                document.getElementById('tmb').style.background = "none";
                document.getElementById('tram').style.background = "none";
                document.getElementById('tusgsal').style.background = "none";
                document.getElementById('baixbus').style.background = "none";
                document.getElementById('nitbus').style.background = "none";

                neteja();

                if (barra.value == 1) { drawTMB1() }
                else if (barra.value == 2) { drawTMB2() }
                else if (barra.value == 3) { drawTMB3() }
                else if (barra.value == 4) { drawTMB4() }
                else if (barra.value == 5) { drawTMB5() }
                else if (barra.value == 6) { drawTMB6() }
                else if (barra.value == 7) { drawTMB7() }
                else if (barra.value == 8) { drawTMB8() }
                else if (barra.value == 9) { drawTMB9() }
                else if (barra.value == 10) { drawTMB10() }
                else if (barra.value == 11) { drawTMB11() }
                else if (barra.value == 12) { drawTMB12() }
                else if (barra.value == 13) { drawTMB13() }
                else if (barra.value == 14) { drawTMB14() }
                else if (barra.value == 15) { drawTMB15() }
                else if (barra.value == 16) { drawTMB16() }
                else if (barra.value == 17) { drawTMB17() }
                else if (barra.value == 18) { drawTMB18() }
                else if (barra.value == 19) { drawTMB19() }
                else if (barra.value == 20) { drawTMB20() }
                else if (barra.value == 21) { drawTMB21() }
                else if (barra.value == 22) { drawTMB22() }
                else if (barra.value == 23) { drawTMB23() }
                else if (barra.value == 24) { drawTMB24() }
                else if (barra.value == 25) { drawTMB25() }
                else if (barra.value == 26) { drawTMB26() }
                else if (barra.value == 27) { drawTMB27() }
                else if (barra.value == 28) { drawTMB28() }
                else if (barra.value == 29) { drawTMB29() }
                else if (barra.value == 30) { drawTMB30() }
                else if (barra.value == 31) { drawTMB31() }

            }

            drawTMB1 = function () {
                selectedOperador = 'FMB';

                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_FMB,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FMB");
                    }
                }).addTo(mymap);
                ky1 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v1),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FMB");
                    }
                }).addTo(mymap);

            }

            drawTMB2 = function () {
                selectedOperador = 'FMB';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_FMB,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FMB");
                    }
                }).addTo(mymap);
                ky2 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v2),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FMB");
                    }
                }).addTo(mymap);

            }

            drawTMB3 = function () {
                selectedOperador = 'FMB';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_FMB,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FMB");
                    }
                }).addTo(mymap);
                ky3 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v3),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FMB");
                    }
                }).addTo(mymap);

            }

            drawTMB4 = function () {
                selectedOperador = 'FMB';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_FMB,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FMB");
                    }
                }).addTo(mymap);
                ky4 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v4),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FMB");
                    }
                }).addTo(mymap);

            }

            drawTMB5 = function () {
                selectedOperador = 'FMB';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_FMB,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FMB");
                    }
                }).addTo(mymap);
                ky5 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v5),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FMB");
                    }
                }).addTo(mymap);

            }

            drawTMB6 = function () {
                selectedOperador = 'FMB';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_FMB,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FMB");
                    }
                }).addTo(mymap);
                ky6 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v6),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FMB");
                    }
                }).addTo(mymap);

            }

            drawTMB7 = function () {
                selectedOperador = 'FMB';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_FMB,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FMB");
                    }
                }).addTo(mymap);
                ky7 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v7),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FMB");
                    }
                }).addTo(mymap);

            }

            drawTMB8 = function () {
                selectedOperador = 'FMB';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_FMB,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FMB");
                    }
                }).addTo(mymap);
                ky8 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v8),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FMB");
                    }
                }).addTo(mymap);

            }

            drawTMB9 = function () {
                selectedOperador = 'FMB';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_FMB,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FMB");
                    }
                }).addTo(mymap);
                ky9 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v9),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FMB");
                    }
                }).addTo(mymap);

            }

            drawTMB10 = function () {
                selectedOperador = 'FMB';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_FMB,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FMB");
                    }
                }).addTo(mymap);
                ky10 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v10),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FMB");
                    }
                }).addTo(mymap);

            }

            drawTMB11 = function () {
                selectedOperador = 'FMB';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_FMB,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FMB");
                    }
                }).addTo(mymap);
                ky11 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v11),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FMB");
                    }
                }).addTo(mymap);

            }

            drawTMB12 = function () {
                selectedOperador = 'FMB';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_FMB,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FMB");
                    }
                }).addTo(mymap);
                ky12 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v12),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FMB");
                    }
                }).addTo(mymap);

            }

            drawTMB13 = function () {
                selectedOperador = 'FMB';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_FMB,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FMB");
                    }
                }).addTo(mymap);
                ky13 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v13),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FMB");
                    }
                }).addTo(mymap);

            }

            drawTMB14 = function () {
                selectedOperador = 'FMB';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_FMB,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FMB");
                    }
                }).addTo(mymap);
                ky14 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v14),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FMB");
                    }
                }).addTo(mymap);

            }

            drawTMB15 = function () {
                selectedOperador = 'FMB';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_FMB,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FMB");
                    }
                }).addTo(mymap);
                ky15 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v15),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FMB");
                    }
                }).addTo(mymap);

            }

            drawTMB16 = function () {
                selectedOperador = 'FMB';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_FMB,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FMB");
                    }
                }).addTo(mymap);
                ky16 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v16),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FMB");
                    }
                }).addTo(mymap);

            }

            drawTMB17 = function () {
                selectedOperador = 'FMB';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_FMB,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FMB");
                    }
                }).addTo(mymap);
                ky17 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v17),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FMB");
                    }
                }).addTo(mymap);

            }

            drawTMB18 = function () {
                selectedOperador = 'FMB';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_FMB,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FMB");
                    }
                }).addTo(mymap);
                ky18 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v18),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FMB");
                    }
                }).addTo(mymap);

            }

            drawTMB19 = function () {
                selectedOperador = 'FMB';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_FMB,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FMB");
                    }
                }).addTo(mymap);
                ky19 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v19),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FMB");
                    }
                }).addTo(mymap);

            }

            drawTMB20 = function () {
                selectedOperador = 'FMB';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_FMB,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FMB");
                    }
                }).addTo(mymap);
                ky20 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v20),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FMB");
                    }
                }).addTo(mymap);

            }

            drawTMB21 = function () {
                selectedOperador = 'FMB';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_FMB,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FMB");
                    }
                }).addTo(mymap);
                ky21 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v21),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FMB");
                    }
                }).addTo(mymap);

            }

            drawTMB22 = function () {
                selectedOperador = 'FMB';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_FMB,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FMB");
                    }
                }).addTo(mymap);
                ky22 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v22),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FMB");
                    }
                }).addTo(mymap);

            }

            drawTMB23 = function () {
                selectedOperador = 'FMB';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_FMB,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FMB");
                    }
                }).addTo(mymap);
                ky23 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v23),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FMB");
                    }
                }).addTo(mymap);

            }

            drawTMB24 = function () {
                selectedOperador = 'FMB';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_FMB,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FMB");
                    }
                }).addTo(mymap);
                ky24 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v24),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FMB");
                    }
                }).addTo(mymap);

            }

            drawTMB25 = function () {
                selectedOperador = 'FMB';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_FMB,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FMB");
                    }
                }).addTo(mymap);
                ky25 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v25),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FMB");
                    }
                }).addTo(mymap);

            }

            drawTMB26 = function () {
                selectedOperador = 'FMB';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_FMB,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FMB");
                    }
                }).addTo(mymap);
                ky26 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v26),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FMB");
                    }
                }).addTo(mymap);

            }

            drawTMB27 = function () {
                selectedOperador = 'FMB';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_FMB,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FMB");
                    }
                }).addTo(mymap);
                ky27 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v27),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FMB");
                    }
                }).addTo(mymap);

            }

            drawTMB28 = function () {
                selectedOperador = 'FMB';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_FMB,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FMB");
                    }
                }).addTo(mymap);
                ky28 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v28),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FMB");
                    }
                }).addTo(mymap);

            }

            drawTMB29 = function () {
                selectedOperador = 'FMB';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_FMB,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FMB");
                    }
                }).addTo(mymap);
                ky29 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v29),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FMB");
                    }
                }).addTo(mymap);

            }

            drawTMB30 = function () {
                selectedOperador = 'FMB';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_FMB,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FMB");
                    }
                }).addTo(mymap);
                ky30 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v30),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FMB");
                    }
                }).addTo(mymap);

            }

            drawTMB31 = function () {
                selectedOperador = 'FMB';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_FMB,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FMB");
                    }
                }).addTo(mymap);
                ky30 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v31),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FMB");
                    }
                }).addTo(mymap);

            }

            //Filtratge per operador FGC
            drawFGC = function () {
                selectedOperador = 'FGC';

                document.getElementById('metro').style.background = "none";
                document.getElementById('fgc').style.background = "rgb(4, 143, 108)";
                document.getElementById('rod').style.background = "none";
                document.getElementById('tmb').style.background = "none";
                document.getElementById('tram').style.background = "none";
                document.getElementById('tusgsal').style.background = "none";
                document.getElementById('baixbus').style.background = "none";
                document.getElementById('nitbus').style.background = "none";

                neteja();

                if (barra.value == 1) { drawFGC1() }
                else if (barra.value == 2) { drawFGC2() }
                else if (barra.value == 3) { drawFGC3() }
                else if (barra.value == 4) { drawFGC4() }
                else if (barra.value == 5) { drawFGC5() }
                else if (barra.value == 6) { drawFGC6() }
                else if (barra.value == 7) { drawFGC7() }
                else if (barra.value == 8) { drawFGC8() }
                else if (barra.value == 9) { drawFGC9() }
                else if (barra.value == 10) { drawFGC10() }
                else if (barra.value == 11) { drawFGC11() }
                else if (barra.value == 12) { drawFGC12() }
                else if (barra.value == 13) { drawFGC13() }
                else if (barra.value == 14) { drawFGC14() }
                else if (barra.value == 15) { drawFGC15() }
                else if (barra.value == 16) { drawFGC16() }
                else if (barra.value == 17) { drawFGC17() }
                else if (barra.value == 18) { drawFGC18() }
                else if (barra.value == 19) { drawFGC19() }
                else if (barra.value == 20) { drawFGC20() }
                else if (barra.value == 21) { drawFGC21() }
                else if (barra.value == 22) { drawFGC22() }
                else if (barra.value == 23) { drawFGC23() }
                else if (barra.value == 24) { drawFGC24() }
                else if (barra.value == 25) { drawFGC25() }
                else if (barra.value == 26) { drawFGC26() }
                else if (barra.value == 27) { drawFGC27() }
                else if (barra.value == 28) { drawFGC28() }
                else if (barra.value == 29) { drawFGC29() }
                else if (barra.value == 30) { drawFGC30() }
                else if (barra.value == 31) { drawFGC31() }
            }


            drawFGC1 = function () {
                selectedOperador = 'FGC';

                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_FGC,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FGC");
                    }
                }).addTo(mymap);
                ky1 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v1),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FGC");
                    }
                }).addTo(mymap);

            }

            drawFGC2 = function () {
                selectedOperador = 'FGC';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_FGC,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FGC");
                    }
                }).addTo(mymap);
                ky2 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v2),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FGC");
                    }
                }).addTo(mymap);

            }

            drawFGC3 = function () {
                selectedOperador = 'FGC';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_FGC,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FGC");
                    }
                }).addTo(mymap);
                ky3 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v3),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FGC");
                    }
                }).addTo(mymap);

            }

            drawFGC4 = function () {
                selectedOperador = 'FGC';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_FGC,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FGC");
                    }
                }).addTo(mymap);
                ky4 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v4),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FGC");
                    }
                }).addTo(mymap);

            }

            drawFGC5 = function () {
                selectedOperador = 'FGC';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_FGC,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FGC");
                    }
                }).addTo(mymap);
                ky5 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v5),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FGC");
                    }
                }).addTo(mymap);

            }

            drawFGC6 = function () {
                selectedOperador = 'FGC';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_FGC,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FGC");
                    }
                }).addTo(mymap);
                ky6 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v6),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FGC");
                    }
                }).addTo(mymap);

            }

            drawFGC7 = function () {
                selectedOperador = 'FGC';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_FGC,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FGC");
                    }
                }).addTo(mymap);
                ky7 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v7),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FGC");
                    }
                }).addTo(mymap);

            }

            drawFGC8 = function () {
                selectedOperador = 'FGC';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_FGC,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FGC");
                    }
                }).addTo(mymap);
                ky8 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v8),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FGC");
                    }
                }).addTo(mymap);

            }

            drawFGC9 = function () {
                selectedOperador = 'FGC';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_FGC,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FGC");
                    }
                }).addTo(mymap);
                ky9 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v9),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FGC");
                    }
                }).addTo(mymap);

            }

            drawFGC10 = function () {
                selectedOperador = 'FGC';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_FGC,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FGC");
                    }
                }).addTo(mymap);
                ky10 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v10),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FGC");
                    }
                }).addTo(mymap);

            }

            drawFGC11 = function () {
                selectedOperador = 'FGC';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_FGC,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FGC");
                    }
                }).addTo(mymap);
                ky11 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v11),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FGC");
                    }
                }).addTo(mymap);

            }

            drawFGC12 = function () {
                selectedOperador = 'FGC';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_FGC,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FGC");
                    }
                }).addTo(mymap);
                ky12 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v12),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FGC");
                    }
                }).addTo(mymap);

            }

            drawFGC13 = function () {
                selectedOperador = 'FGC';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_FGC,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FGC");
                    }
                }).addTo(mymap);
                ky13 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v13),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FGC");
                    }
                }).addTo(mymap);

            }

            drawFGC14 = function () {
                selectedOperador = 'FGC';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_FGC,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FGC");
                    }
                }).addTo(mymap);
                ky14 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v14),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FGC");
                    }
                }).addTo(mymap);

            }
            drawFGC15 = function () {
                selectedOperador = 'FGC';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_FGC,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FGC");
                    }
                }).addTo(mymap);
                ky15 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v15),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FGC");
                    }
                }).addTo(mymap);

            }

            drawFGC16 = function () {
                selectedOperador = 'FGC';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_FGC,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FGC");
                    }
                }).addTo(mymap);
                ky16 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v16),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FGC");
                    }
                }).addTo(mymap);

            }

            drawFGC17 = function () {
                selectedOperador = 'FGC';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_FGC,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FGC");
                    }
                }).addTo(mymap);
                ky17 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v17),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FGC");
                    }
                }).addTo(mymap);

            }

            drawFGC18 = function () {
                selectedOperador = 'FGC';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_FGC,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FGC");
                    }
                }).addTo(mymap);
                ky18 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v18),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FGC");
                    }
                }).addTo(mymap);

            }

            drawFGC19 = function () {
                selectedOperador = 'FGC';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_FGC,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FGC");
                    }
                }).addTo(mymap);
                ky19 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v19),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FGC");
                    }
                }).addTo(mymap);

            }

            drawFGC20 = function () {
                selectedOperador = 'FGC';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_FGC,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FGC");
                    }
                }).addTo(mymap);
                ky20 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v20),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FGC");
                    }
                }).addTo(mymap);

            }

            drawFGC21 = function () {
                selectedOperador = 'FGC';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_FGC,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FGC");
                    }
                }).addTo(mymap);
                ky21 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v21),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FGC");
                    }
                }).addTo(mymap);

            }

            drawFGC22 = function () {
                selectedOperador = 'FGC';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_FGC,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FGC");
                    }
                }).addTo(mymap);
                ky22 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v22),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FGC");
                    }
                }).addTo(mymap);

            }

            drawFGC23 = function () {
                selectedOperador = 'FGC';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_FGC,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FGC");
                    }
                }).addTo(mymap);
                ky23 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v23),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FGC");
                    }
                }).addTo(mymap);

            }

            drawFGC24 = function () {
                selectedOperador = 'FGC';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_FGC,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FGC");
                    }
                }).addTo(mymap);
                ky24 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v24),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FGC");
                    }
                }).addTo(mymap);

            }

            drawFGC25 = function () {
                selectedOperador = 'FGC';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_FGC,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FGC");
                    }
                }).addTo(mymap);
                ky25 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v25),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FGC");
                    }
                }).addTo(mymap);

            }

            drawFGC26 = function () {
                selectedOperador = 'FGC';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_FGC,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FGC");
                    }
                }).addTo(mymap);
                ky26 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v26),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FGC");
                    }
                }).addTo(mymap);

            }

            drawFGC27 = function () {
                selectedOperador = 'FGC';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_FGC,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FGC");
                    }
                }).addTo(mymap);
                ky27 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v27),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FGC");
                    }
                }).addTo(mymap);

            }

            drawFGC28 = function () {
                selectedOperador = 'FGC';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_FGC,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FGC");
                    }
                }).addTo(mymap);
                ky28 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v28),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FGC");
                    }
                }).addTo(mymap);

            }

            drawFGC29 = function () {
                selectedOperador = 'FGC';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_FGC,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FGC");
                    }
                }).addTo(mymap);
                ky29 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v29),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FGC");
                    }
                }).addTo(mymap);

            }

            drawFGC30 = function () {
                selectedOperador = 'FGC';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_FGC,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FGC");
                    }
                }).addTo(mymap);
                ky30 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v30),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FGC");
                    }
                }).addTo(mymap);

            }

            drawFGC31 = function () {
                selectedOperador = 'FGC';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_FGC,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FGC");
                    }
                }).addTo(mymap);
                ky30 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v31),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "FGC");
                    }
                }).addTo(mymap);

            }

            //Filtratge per operador ROD

            drawROD = function () {
                selectedOperador = 'ROD';

                document.getElementById('metro').style.background = "none";
                document.getElementById('fgc').style.background = "none";
                document.getElementById('rod').style.background = "rgb(4, 143, 108)";
                document.getElementById('tmb').style.background = "none";
                document.getElementById('tram').style.background = "none";
                document.getElementById('tusgsal').style.background = "none";
                document.getElementById('baixbus').style.background = "none";
                document.getElementById('nitbus').style.background = "none";

                neteja();

                if (barra.value == 1) { drawROD1() }
                else if (barra.value == 2) { drawROD2() }
                else if (barra.value == 3) { drawROD3() }
                else if (barra.value == 4) { drawROD4() }
                else if (barra.value == 5) { drawROD5() }
                else if (barra.value == 6) { drawROD6() }
                else if (barra.value == 7) { drawROD7() }
                else if (barra.value == 8) { drawROD8() }
                else if (barra.value == 9) { drawROD9() }
                else if (barra.value == 10) { drawROD10() }
                else if (barra.value == 11) { drawROD11() }
                else if (barra.value == 12) { drawROD12() }
                else if (barra.value == 13) { drawROD13() }
                else if (barra.value == 14) { drawROD14() }
                else if (barra.value == 15) { drawROD15() }
                else if (barra.value == 16) { drawROD16() }
                else if (barra.value == 17) { drawROD17() }
                else if (barra.value == 18) { drawROD18() }
                else if (barra.value == 19) { drawROD19() }
                else if (barra.value == 20) { drawROD20() }
                else if (barra.value == 21) { drawROD21() }
                else if (barra.value == 22) { drawROD22() }
                else if (barra.value == 23) { drawROD23() }
                else if (barra.value == 24) { drawROD24() }
                else if (barra.value == 25) { drawROD25() }
                else if (barra.value == 26) { drawROD26() }
                else if (barra.value == 27) { drawROD27() }
                else if (barra.value == 28) { drawROD28() }
                else if (barra.value == 29) { drawROD29() }
                else if (barra.value == 30) { drawROD30() }
                else if (barra.value == 31) { drawROD31() }
            }

            drawROD1 = function () {
                selectedOperador = 'ROD';

                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_ROD,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "ROD");
                    }
                }).addTo(mymap);
                ky1 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v1),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "ROD");
                    }
                }).addTo(mymap);

            }

            drawROD2 = function () {
                selectedOperador = 'ROD';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_ROD,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "ROD");
                    }
                }).addTo(mymap);
                ky2 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v2),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "ROD");
                    }
                }).addTo(mymap);

            }

            drawROD3 = function () {
                selectedOperador = 'ROD';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_ROD,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "ROD");
                    }
                }).addTo(mymap);
                ky3 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v3),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "ROD");
                    }
                }).addTo(mymap);

            }

            drawROD4 = function () {
                selectedOperador = 'ROD';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_ROD,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "ROD");
                    }
                }).addTo(mymap);
                ky4 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v4),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "ROD");
                    }
                }).addTo(mymap);

            }

            drawROD5 = function () {
                selectedOperador = 'ROD';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_ROD,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "ROD");
                    }
                }).addTo(mymap);
                ky5 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v5),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "ROD");
                    }
                }).addTo(mymap);

            }

            drawROD6 = function () {
                selectedOperador = 'ROD';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_ROD,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "ROD");
                    }
                }).addTo(mymap);
                ky6 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v6),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "ROD");
                    }
                }).addTo(mymap);

            }

            drawROD7 = function () {
                selectedOperador = 'ROD';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_ROD,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "ROD");
                    }
                }).addTo(mymap);
                ky7 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v7),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "ROD");
                    }
                }).addTo(mymap);

            }

            drawROD8 = function () {
                selectedOperador = 'ROD';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_ROD,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "ROD");
                    }
                }).addTo(mymap);
                ky8 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v8),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "ROD");
                    }
                }).addTo(mymap);

            }

            drawROD9 = function () {
                selectedOperador = 'ROD';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_ROD,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "ROD");
                    }
                }).addTo(mymap);
                ky9 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v9),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "ROD");
                    }
                }).addTo(mymap);

            }

            drawROD10 = function () {
                selectedOperador = 'ROD';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_ROD,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "ROD");
                    }
                }).addTo(mymap);
                ky10 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v10),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "ROD");
                    }
                }).addTo(mymap);

            }

            drawROD11 = function () {
                selectedOperador = 'ROD';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_ROD,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "ROD");
                    }
                }).addTo(mymap);
                ky11 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v11),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "ROD");
                    }
                }).addTo(mymap);

            }

            drawROD12 = function () {
                selectedOperador = 'ROD';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_ROD,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "ROD");
                    }
                }).addTo(mymap);
                ky12 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v12),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "ROD");
                    }
                }).addTo(mymap);

            }

            drawROD13 = function () {
                selectedOperador = 'ROD';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_ROD,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "ROD");
                    }
                }).addTo(mymap);
                ky13 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v13),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "ROD");
                    }
                }).addTo(mymap);

            }

            drawROD14 = function () {
                selectedOperador = 'ROD';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_ROD,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "ROD");
                    }
                }).addTo(mymap);
                ky14 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v14),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "ROD");
                    }
                }).addTo(mymap);

            }

            drawROD15 = function () {
                selectedOperador = 'ROD';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_ROD,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "ROD");
                    }
                }).addTo(mymap);
                ky15 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v15),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "ROD");
                    }
                }).addTo(mymap);

            }

            drawROD16 = function () {
                selectedOperador = 'ROD';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_ROD,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "ROD");
                    }
                }).addTo(mymap);
                ky16 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v16),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "ROD");
                    }
                }).addTo(mymap);

            }

            drawROD17 = function () {
                selectedOperador = 'ROD';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_ROD,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "ROD");
                    }
                }).addTo(mymap);
                ky17 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v17),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "ROD");
                    }
                }).addTo(mymap);

            }

            drawROD18 = function () {
                selectedOperador = 'ROD';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_ROD,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "ROD");
                    }
                }).addTo(mymap);
                ky18 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v18),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "ROD");
                    }
                }).addTo(mymap);

            }

            drawROD19 = function () {
                selectedOperador = 'ROD';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_ROD,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "ROD");
                    }
                }).addTo(mymap);
                ky19 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v19),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "ROD");
                    }
                }).addTo(mymap);

            }

            drawROD20 = function () {
                selectedOperador = 'ROD';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_ROD,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "ROD");
                    }
                }).addTo(mymap);
                ky20 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v20),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "ROD");
                    }
                }).addTo(mymap);

            }

            drawROD21 = function () {
                selectedOperador = 'ROD';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_ROD,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "ROD");
                    }
                }).addTo(mymap);
                ky21 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v21),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "ROD");
                    }
                }).addTo(mymap);

            }

            drawROD22 = function () {
                selectedOperador = 'ROD';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_ROD,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "ROD");
                    }
                }).addTo(mymap);
                ky22 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v22),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "ROD");
                    }
                }).addTo(mymap);

            }

            drawROD23 = function () {
                selectedOperador = 'ROD';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_ROD,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "ROD");
                    }
                }).addTo(mymap);
                ky23 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v23),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "ROD");
                    }
                }).addTo(mymap);

            }

            drawROD24 = function () {
                selectedOperador = 'ROD';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_ROD,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "ROD");
                    }
                }).addTo(mymap);
                ky24 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v24),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "ROD");
                    }
                }).addTo(mymap);

            }

            drawROD25 = function () {
                selectedOperador = 'ROD';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_ROD,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "ROD");
                    }
                }).addTo(mymap);
                ky25 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v25),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "ROD");
                    }
                }).addTo(mymap);

            }

            drawROD26 = function () {
                selectedOperador = 'ROD';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_ROD,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "ROD");
                    }
                }).addTo(mymap);
                ky26 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v26),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "ROD");
                    }
                }).addTo(mymap);

            }

            drawROD27 = function () {
                selectedOperador = 'ROD';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_ROD,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "ROD");
                    }
                }).addTo(mymap);
                ky27 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v27),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "ROD");
                    }
                }).addTo(mymap);

            }

            drawROD28 = function () {
                selectedOperador = 'ROD';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_ROD,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "ROD");
                    }
                }).addTo(mymap);
                ky28 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v28),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "ROD");
                    }
                }).addTo(mymap);

            }

            drawROD29 = function () {
                selectedOperador = 'ROD';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_ROD,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "ROD");
                    }
                }).addTo(mymap);
                ky29 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v29),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "ROD");
                    }
                }).addTo(mymap);

            }

            drawROD30 = function () {
                selectedOperador = 'ROD';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_ROD,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "ROD");
                    }
                }).addTo(mymap);
                ky30 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v30),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "ROD");
                    }
                }).addTo(mymap);

            }

            drawROD31 = function () {
                selectedOperador = 'ROD';
                kyAMB = L.geoJSON(linies.responseJSON, {
                    style: style_line_ROD,
                    onEachFeature: onEachFeature2,
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "ROD");
                    }
                }).addTo(mymap);
                ky30 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: getRadius(feature.properties.v31),
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "ROD");
                    }
                }).addTo(mymap);

            }

            //Filtratge per operador TB

            drawTB = function () {
                selectedOperador = 'TB';

                document.getElementById('metro').style.background = "none";
                document.getElementById('fgc').style.background = "none";
                document.getElementById('rod').style.background = "none";
                document.getElementById('tmb').style.background = "rgb(4, 143, 108)";
                document.getElementById('tram').style.background = "none";
                document.getElementById('tusgsal').style.background = "none";
                document.getElementById('baixbus').style.background = "none";
                document.getElementById('nitbus').style.background = "none";

                neteja();

                if (barra.value == 1) { drawTB1() }
                else if (barra.value == 2) { drawTB2() }
                else if (barra.value == 3) { drawTB3() }
                else if (barra.value == 4) { drawTB4() }
                else if (barra.value == 5) { drawTB5() }
                else if (barra.value == 6) { drawTB6() }
                else if (barra.value == 7) { drawTB7() }
                else if (barra.value == 8) { drawTB8() }
                else if (barra.value == 9) { drawTB9() }
                else if (barra.value == 10) { drawTB10() }
                else if (barra.value == 11) { drawTB11() }
                else if (barra.value == 12) { drawTB12() }
                else if (barra.value == 13) { drawTB13() }
                else if (barra.value == 14) { drawTB14() }
                else if (barra.value == 15) { drawTB15() }
                else if (barra.value == 16) { drawTB16() }
                else if (barra.value == 17) { drawTB17() }
                else if (barra.value == 18) { drawTB18() }
                else if (barra.value == 19) { drawTB19() }
                else if (barra.value == 20) { drawTB20() }
                else if (barra.value == 21) { drawTB21() }
                else if (barra.value == 22) { drawTB22() }
                else if (barra.value == 23) { drawTB23() }
                else if (barra.value == 24) { drawTB24() }
                else if (barra.value == 25) { drawTB25() }
                else if (barra.value == 26) { drawTB26() }
                else if (barra.value == 27) { drawTB27() }
                else if (barra.value == 28) { drawTB28() }
                else if (barra.value == 29) { drawTB29() }
                else if (barra.value == 30) { drawTB30() }
                else if (barra.value == 31) { drawTB31() }
            }

            drawTB1 = function () {
                selectedOperador = 'TB';

                kyBusDilluns = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v1),
                            color: 'red',
                            dashArray: '',
                            fillOpacity: 1,
                        }
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TMB");
                    }
                }).addTo(mymap);

            }

            drawTB2 = function () {
                selectedOperador = 'TB';
                kyBusDimarts = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v2),
                            color: 'red',
                            dashArray: '',
                            fillOpacity: 1,
                        }
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TMB");
                    }
                }).addTo(mymap);
            }

            drawTB3 = function () {
                selectedOperador = 'TB';
                kyBusDimecres = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v3),
                            color: 'red',
                            dashArray: '',
                            fillOpacity: 1,
                        }
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TMB");
                    }
                }).addTo(mymap);
            }

            drawTB4 = function () {
                selectedOperador = 'TB';
                kyBusDijous = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v4),
                            color: 'red',
                            dashArray: '',
                            fillOpacity: 1,
                        }
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TMB");
                    }
                }).addTo(mymap);
            }

            drawTB5 = function () {
                selectedOperador = 'TB';
                kyBusDivendres = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v5),
                            color: 'red',
                            dashArray: '',
                            fillOpacity: 1,
                        }
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TMB");
                    }
                }).addTo(mymap);
            }

            drawTB6 = function () {
                selectedOperador = 'TB';
                kyBusDissabte = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v6),
                            color: 'red',
                            dashArray: '',
                            fillOpacity: 1,
                        }
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TMB");
                    }
                }).addTo(mymap);
            }

            drawTB7 = function () {
                selectedOperador = 'TB';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v7),
                            color: 'red',
                            dashArray: '',
                            fillOpacity: 1,
                        }
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TMB");
                    }
                }).addTo(mymap);
            }

            drawTB8 = function () {
                selectedOperador = 'TB';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v8),
                            color: 'red',
                            dashArray: '',
                            fillOpacity: 1,
                        }
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TMB");
                    }
                }).addTo(mymap);
            }

            drawTB9 = function () {
                selectedOperador = 'TB';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v9),
                            color: 'red',
                            dashArray: '',
                            fillOpacity: 1,
                        }
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TMB");
                    }
                }).addTo(mymap);
            }

            drawTB10 = function () {
                selectedOperador = 'TB';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v10),
                            color: 'red',
                            dashArray: '',
                            fillOpacity: 1,
                        }
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TMB");
                    }
                }).addTo(mymap);
            }

            drawTB11 = function () {
                selectedOperador = 'TB';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v11),
                            color: 'red',
                            dashArray: '',
                            fillOpacity: 1,
                        }
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TMB");
                    }
                }).addTo(mymap);
            }

            drawTB12 = function () {
                selectedOperador = 'TB';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v12),
                            color: 'red',
                            dashArray: '',
                            fillOpacity: 1,
                        }
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TMB");
                    }
                }).addTo(mymap);
            }

            drawTB13 = function () {
                selectedOperador = 'TB';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v13),
                            color: 'red',
                            dashArray: '',
                            fillOpacity: 1,
                        }
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TMB");
                    }
                }).addTo(mymap);
            }

            drawTB14 = function () {
                selectedOperador = 'TB';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v14),
                            color: 'red',
                            dashArray: '',
                            fillOpacity: 1,
                        }
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TMB");
                    }
                }).addTo(mymap);
            }

            drawTB15 = function () {
                selectedOperador = 'TB';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v15),
                            color: 'red',
                            dashArray: '',
                            fillOpacity: 1,
                        }
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TMB");
                    }
                }).addTo(mymap);
            }

            drawTB16 = function () {
                selectedOperador = 'TB';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v16),
                            color: 'red',
                            dashArray: '',
                            fillOpacity: 1,
                        }
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TMB");
                    }
                }).addTo(mymap);
            }

            drawTB17 = function () {
                selectedOperador = 'TB';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v17),
                            color: 'red',
                            dashArray: '',
                            fillOpacity: 1,
                        }
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TMB");
                    }
                }).addTo(mymap);
            }

            drawTB18 = function () {
                selectedOperador = 'TB';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v18),
                            color: 'red',
                            dashArray: '',
                            fillOpacity: 1,
                        }
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TMB");
                    }
                }).addTo(mymap);
            }

            drawTB19 = function () {
                selectedOperador = 'TB';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v19),
                            color: 'red',
                            dashArray: '',
                            fillOpacity: 1,
                        }
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TMB");
                    }
                }).addTo(mymap);
            }

            drawTB20 = function () {
                selectedOperador = 'TB';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v20),
                            color: 'red',
                            dashArray: '',
                            fillOpacity: 1,
                        }
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TMB");
                    }
                }).addTo(mymap);
            }

            drawTB21 = function () {
                selectedOperador = 'TB';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v21),
                            color: 'red',
                            dashArray: '',
                            fillOpacity: 1,
                        }
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TMB");
                    }
                }).addTo(mymap);
            }

            drawTB22 = function () {
                selectedOperador = 'TB';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v22),
                            color: 'red',
                            dashArray: '',
                            fillOpacity: 1,
                        }
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TMB");
                    }
                }).addTo(mymap);
            }

            drawTB23 = function () {
                selectedOperador = 'TB';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v23),
                            color: 'red',
                            dashArray: '',
                            fillOpacity: 1,
                        }
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TMB");
                    }
                }).addTo(mymap);
            }

            drawTB24 = function () {
                selectedOperador = 'TB';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v24),
                            color: 'red',
                            dashArray: '',
                            fillOpacity: 1,
                        }
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TMB");
                    }
                }).addTo(mymap);
            }

            drawTB25 = function () {
                selectedOperador = 'TB';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v25),
                            color: 'red',
                            dashArray: '',
                            fillOpacity: 1,
                        }
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TMB");
                    }
                }).addTo(mymap);
            }

            drawTB26 = function () {
                selectedOperador = 'TB';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v26),
                            color: 'red',
                            dashArray: '',
                            fillOpacity: 1,
                        }
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TMB");
                    }
                }).addTo(mymap);
            }

            drawTB27 = function () {
                selectedOperador = 'TB';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v27),
                            color: 'red',
                            dashArray: '',
                            fillOpacity: 1,
                        }
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TMB");
                    }
                }).addTo(mymap);
            }

            drawTB28 = function () {
                selectedOperador = 'TB';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v28),
                            color: 'red',
                            dashArray: '',
                            fillOpacity: 1,
                        }
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TMB");
                    }
                }).addTo(mymap);
            }

            drawTB29 = function () {
                selectedOperador = 'TB';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v29),
                            color: 'red',
                            dashArray: '',
                            fillOpacity: 1,
                        }
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TMB");
                    }
                }).addTo(mymap);
            }

            drawTB30 = function () {
                selectedOperador = 'TB';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v30),
                            color: 'red',
                            dashArray: '',
                            fillOpacity: 1,
                        }
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TMB");
                    }
                }).addTo(mymap);
            }

            drawTB31 = function () {
                selectedOperador = 'TB';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v31),
                            color: 'red',
                            dashArray: '',
                            fillOpacity: 1,
                        }
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TMB");
                    }
                }).addTo(mymap);
            }

            //Filtratge per operador TRAM
            drawTRAM = function () {
                selectedOperador = 'TRAM';

                document.getElementById('metro').style.background = "none";
                document.getElementById('fgc').style.background = "none";
                document.getElementById('rod').style.background = "none";
                document.getElementById('tmb').style.background = "none";
                document.getElementById('tram').style.background = "rgb(4, 143, 108)";
                document.getElementById('tusgsal').style.background = "none";
                document.getElementById('baixbus').style.background = "none";
                document.getElementById('nitbus').style.background = "none";

                neteja();

                if (barra.value == 1) { drawTRAM1() }
                else if (barra.value == 2) { drawTRAM2() }
                else if (barra.value == 3) { drawTRAM3() }
                else if (barra.value == 4) { drawTRAM4() }
                else if (barra.value == 5) { drawTRAM5() }
                else if (barra.value == 6) { drawTRAM6() }
                else if (barra.value == 7) { drawTRAM7() }
                else if (barra.value == 8) { drawTRAM8() }
                else if (barra.value == 9) { drawTRAM9() }
                else if (barra.value == 10) { drawTRAM10() }
                else if (barra.value == 11) { drawTRAM11() }
                else if (barra.value == 12) { drawTRAM12() }
                else if (barra.value == 13) { drawTRAM13() }
                else if (barra.value == 14) { drawTRAM14() }
                else if (barra.value == 15) { drawTRAM15() }
                else if (barra.value == 16) { drawTRAM16() }
                else if (barra.value == 17) { drawTRAM17() }
                else if (barra.value == 18) { drawTRAM18() }
                else if (barra.value == 19) { drawTRAM19() }
                else if (barra.value == 20) { drawTRAM20() }
                else if (barra.value == 21) { drawTRAM21() }
                else if (barra.value == 22) { drawTRAM22() }
                else if (barra.value == 23) { drawTRAM23() }
                else if (barra.value == 24) { drawTRAM24() }
                else if (barra.value == 25) { drawTRAM25() }
                else if (barra.value == 26) { drawTRAM26() }
                else if (barra.value == 27) { drawTRAM27() }
                else if (barra.value == 28) { drawTRAM28() }
                else if (barra.value == 29) { drawTRAM29() }
                else if (barra.value == 30) { drawTRAM30() }
                else if (barra.value == 31) { drawTRAM31() }
            }

            drawTRAM1 = function () {
                selectedOperador = 'TRAM';

                kyBusDilluns = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v1),
                            color: 'rgb(4, 143, 108)',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TRAM");
                    }
                }).addTo(mymap);
                ky30 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: 2,
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TRAM");
                    }
                }).addTo(mymap);

            }

            drawTRAM2 = function () {
                selectedOperador = 'TRAM';

                kyBusDimarts = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v2),
                            color: 'rgb(4, 143, 108)',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TRAM");
                    }
                }).addTo(mymap);
                ky30 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: 2,
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TRAM");
                    }
                }).addTo(mymap);

            }

            drawTRAM3 = function () {
                selectedOperador = 'TRAM';

                kyBusDimecres = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v3),
                            color: 'rgb(4, 143, 108)',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TRAM");
                    }
                }).addTo(mymap);
                ky30 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: 2,
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TRAM");
                    }
                }).addTo(mymap);

            }

            drawTRAM4 = function () {
                selectedOperador = 'TRAM';

                kyBusDijous = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v4),
                            color: 'rgb(4, 143, 108)',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TRAM");
                    }
                }).addTo(mymap);
                ky30 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: 2,
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TRAM");
                    }
                }).addTo(mymap);

            }

            drawTRAM5 = function () {
                selectedOperador = 'TRAM';

                kyBusDivendres = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v5),
                            color: 'rgb(4, 143, 108)',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TRAM");
                    }
                }).addTo(mymap);
                ky30 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: 2,
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TRAM");
                    }
                }).addTo(mymap);

            }

            drawTRAM6 = function () {
                selectedOperador = 'TRAM';

                kyBusDissabte = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v6),
                            color: 'rgb(4, 143, 108)',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TRAM");
                    }
                }).addTo(mymap);
                ky30 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: 2,
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TRAM");
                    }
                }).addTo(mymap);

            }

            drawTRAM7 = function () {
                selectedOperador = 'TRAM';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v7),
                            color: 'rgb(4, 143, 108)',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TRAM");
                    }
                }).addTo(mymap);
                ky30 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: 2,
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TRAM");
                    }
                }).addTo(mymap);
            }

            drawTRAM8 = function () {
                selectedOperador = 'TRAM';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v8),
                            color: 'rgb(4, 143, 108)',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TRAM");
                    }
                }).addTo(mymap);
                ky30 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: 2,
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TRAM");
                    }
                }).addTo(mymap);
            }

            drawTRAM9 = function () {
                selectedOperador = 'TRAM';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v9),
                            color: 'rgb(4, 143, 108)',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TRAM");
                    }
                }).addTo(mymap);
                ky30 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: 2,
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TRAM");
                    }
                }).addTo(mymap);
            }

            drawTRAM10 = function () {
                selectedOperador = 'TRAM';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v10),
                            color: 'rgb(4, 143, 108)',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TRAM");
                    }
                }).addTo(mymap);
                ky30 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: 2,
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TRAM");
                    }
                }).addTo(mymap);
            }

            drawTRAM11 = function () {
                selectedOperador = 'TRAM';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v11),
                            color: 'rgb(4, 143, 108)',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TRAM");
                    }
                }).addTo(mymap);
                ky30 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: 2,
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TRAM");
                    }
                }).addTo(mymap);
            }

            drawTRAM12 = function () {
                selectedOperador = 'TRAM';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v12),
                            color: 'rgb(4, 143, 108)',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TRAM");
                    }
                }).addTo(mymap);
                ky30 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: 2,
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TRAM");
                    }
                }).addTo(mymap);
            }

            drawTRAM13 = function () {
                selectedOperador = 'TRAM';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v13),
                            color: 'rgb(4, 143, 108)',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TRAM");
                    }
                }).addTo(mymap);
                ky30 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: 2,
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TRAM");
                    }
                }).addTo(mymap);
            }

            drawTRAM14 = function () {
                selectedOperador = 'TRAM';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v14),
                            color: 'rgb(4, 143, 108)',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TRAM");
                    }
                }).addTo(mymap);
                ky30 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: 2,
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TRAM");
                    }
                }).addTo(mymap);
            }

            drawTRAM15 = function () {
                selectedOperador = 'TRAM';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v15),
                            color: 'rgb(4, 143, 108)',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TRAM");
                    }
                }).addTo(mymap);
                ky30 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: 2,
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TRAM");
                    }
                }).addTo(mymap);
            }

            drawTRAM16 = function () {
                selectedOperador = 'TRAM';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v16),
                            color: 'rgb(4, 143, 108)',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TRAM");
                    }
                }).addTo(mymap);
                ky30 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: 2,
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TRAM");
                    }
                }).addTo(mymap);
            }

            drawTRAM17 = function () {
                selectedOperador = 'TRAM';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v17),
                            color: 'rgb(4, 143, 108)',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TRAM");
                    }
                }).addTo(mymap);
                ky30 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: 2,
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TRAM");
                    }
                }).addTo(mymap);
            }

            drawTRAM18 = function () {
                selectedOperador = 'TRAM';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v18),
                            color: 'rgb(4, 143, 108)',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TRAM");
                    }
                }).addTo(mymap);
                ky30 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: 2,
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TRAM");
                    }
                }).addTo(mymap);
            }

            drawTRAM19 = function () {
                selectedOperador = 'TRAM';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v19),
                            color: 'rgb(4, 143, 108)',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TRAM");
                    }
                }).addTo(mymap);
                ky30 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: 2,
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TRAM");
                    }
                }).addTo(mymap);
            }

            drawTRAM20 = function () {
                selectedOperador = 'TRAM';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v20),
                            color: 'rgb(4, 143, 108)',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TRAM");
                    }
                }).addTo(mymap);
                ky30 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: 2,
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TRAM");
                    }
                }).addTo(mymap);
            }

            drawTRAM21 = function () {
                selectedOperador = 'TRAM';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v21),
                            color: 'rgb(4, 143, 108)',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TRAM");
                    }
                }).addTo(mymap);
                ky30 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: 2,
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TRAM");
                    }
                }).addTo(mymap);
            }

            drawTRAM22 = function () {
                selectedOperador = 'TRAM';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v22),
                            color: 'rgb(4, 143, 108)',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TRAM");
                    }
                }).addTo(mymap);
                ky30 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: 2,
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TRAM");
                    }
                }).addTo(mymap);
            }

            drawTRAM23 = function () {
                selectedOperador = 'TRAM';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v23),
                            color: 'rgb(4, 143, 108)',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TRAM");
                    }
                }).addTo(mymap);
                ky30 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: 2,
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TRAM");
                    }
                }).addTo(mymap);
            }

            drawTRAM24 = function () {
                selectedOperador = 'TRAM';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v24),
                            color: 'rgb(4, 143, 108)',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TRAM");
                    }
                }).addTo(mymap);
                ky30 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: 2,
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TRAM");
                    }
                }).addTo(mymap);
            }

            drawTRAM25 = function () {
                selectedOperador = 'TRAM';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v25),
                            color: 'rgb(4, 143, 108)',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TRAM");
                    }
                }).addTo(mymap);
                ky30 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: 2,
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TRAM");
                    }
                }).addTo(mymap);
            }
            drawTRAM26 = function () {
                selectedOperador = 'TRAM';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v26),
                            color: 'rgb(4, 143, 108)',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TRAM");
                    }
                }).addTo(mymap);
                ky30 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: 2,
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TRAM");
                    }
                }).addTo(mymap);
            }
            drawTRAM27 = function () {
                selectedOperador = 'TRAM';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v27),
                            color: 'rgb(4, 143, 108)',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TRAM");
                    }
                }).addTo(mymap);
                ky30 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: 2,
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TRAM");
                    }
                }).addTo(mymap);
            }
            drawTRAM28 = function () {
                selectedOperador = 'TRAM';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v28),
                            color: 'rgb(4, 143, 108)',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TRAM");
                    }
                }).addTo(mymap);
                ky30 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: 2,
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TRAM");
                    }
                }).addTo(mymap);
            }
            drawTRAM29 = function () {
                selectedOperador = 'TRAM';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v29),
                            color: 'rgb(4, 143, 108)',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TRAM");
                    }
                }).addTo(mymap);
                ky30 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: 2,
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TRAM");
                    }
                }).addTo(mymap);
            }
            drawTRAM30 = function () {
                selectedOperador = 'TRAM';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v30),
                            color: 'rgb(4, 143, 108)',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TRAM");
                    }
                }).addTo(mymap);
                ky30 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: 2,
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TRAM");
                    }
                }).addTo(mymap);
            }

            drawTRAM31 = function () {
                selectedOperador = 'TRAM';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v31),
                            color: 'rgb(4, 143, 108)',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TRAM");
                    }
                }).addTo(mymap);
                ky30 = L.geoJSON(val30.responseJSON, {
                    onEachFeature: onEachFeature,
                    style: style,
                    pointToLayer: function (feature, latlng) {
                        return L.circleMarker(latlng, {
                            radius: 2,
                            fillColor: "white",
                            color: "#000",
                            weight: 1,
                            opacity: 1,
                            fillOpacity: 0.5
                        });
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TRAM");
                    }
                }).addTo(mymap);
            }

            //Filtratge per operador TUSGSAL

            drawTUSGSAL = function () {
                selectedOperador = 'TUSGSAL';

                document.getElementById('metro').style.background = "none";
                document.getElementById('fgc').style.background = "none";
                document.getElementById('rod').style.background = "none";
                document.getElementById('tmb').style.background = "none";
                document.getElementById('tram').style.background = "none";
                document.getElementById('tusgsal').style.background = "rgb(4, 143, 108)";
                document.getElementById('baixbus').style.background = "none";
                document.getElementById('nitbus').style.background = "none";

                neteja();

                if (barra.value == 1) { drawTUSGSAL1() }
                else if (barra.value == 2) { drawTUSGSAL2() }
                else if (barra.value == 3) { drawTUSGSAL3() }
                else if (barra.value == 4) { drawTUSGSAL4() }
                else if (barra.value == 5) { drawTUSGSAL5() }
                else if (barra.value == 6) { drawTUSGSAL6() }
                else if (barra.value == 7) { drawTUSGSAL7() }
                else if (barra.value == 8) { drawTUSGSAL8() }
                else if (barra.value == 9) { drawTUSGSAL9() }
                else if (barra.value == 10) { drawTUSGSAL10() }
                else if (barra.value == 11) { drawTUSGSAL11() }
                else if (barra.value == 12) { drawTUSGSAL12() }
                else if (barra.value == 13) { drawTUSGSAL13() }
                else if (barra.value == 14) { drawTUSGSAL14() }
                else if (barra.value == 15) { drawTUSGSAL15() }
                else if (barra.value == 16) { drawTUSGSAL16() }
                else if (barra.value == 17) { drawTUSGSAL17() }
                else if (barra.value == 18) { drawTUSGSAL18() }
                else if (barra.value == 19) { drawTUSGSAL19() }
                else if (barra.value == 20) { drawTUSGSAL20() }
                else if (barra.value == 21) { drawTUSGSAL21() }
                else if (barra.value == 22) { drawTUSGSAL22() }
                else if (barra.value == 23) { drawTUSGSAL23() }
                else if (barra.value == 24) { drawTUSGSAL24() }
                else if (barra.value == 25) { drawTUSGSAL25() }
                else if (barra.value == 26) { drawTUSGSAL26() }
                else if (barra.value == 27) { drawTUSGSAL27() }
                else if (barra.value == 28) { drawTUSGSAL28() }
                else if (barra.value == 29) { drawTUSGSAL29() }
                else if (barra.value == 30) { drawTUSGSAL30() }
                else if (barra.value == 31) { drawTUSGSAL31() }
            }

            drawTUSGSAL1 = function () {
                selectedOperador = 'TUSGSAL';

                kyBusDilluns = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v1),
                            color: '#FFCC00',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TUSGSAL");
                    }
                }).addTo(mymap);

            }

            drawTUSGSAL2 = function () {
                selectedOperador = 'TUSGSAL';

                kyBusDimarts = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v2),
                            color: '#FFCC00',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TUSGSAL");
                    }
                }).addTo(mymap);

            }

            drawTUSGSAL3 = function () {
                selectedOperador = 'TUSGSAL';

                kyBusDimecres = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v3),
                            color: '#FFCC00',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TUSGSAL");
                    }
                }).addTo(mymap);

            }

            drawTUSGSAL4 = function () {
                selectedOperador = 'TUSGSAL';

                kyBusDijous = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v4),
                            color: '#FFCC00',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TUSGSAL");
                    }
                }).addTo(mymap);

            }

            drawTUSGSAL5 = function () {
                selectedOperador = 'TUSGSAL';

                kyBusDivendres = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v5),
                            color: '#FFCC00',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TUSGSAL");
                    }
                }).addTo(mymap);

            }

            drawTUSGSAL6 = function () {
                selectedOperador = 'TUSGSAL';

                kyBusDissabte = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v6),
                            color: '#FFCC00',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TUSGSAL");
                    }
                }).addTo(mymap);

            }

            drawTUSGSAL7 = function () {
                selectedOperador = 'TUSGSAL';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v7),
                            color: '#FFCC00',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TUSGSAL");
                    }
                }).addTo(mymap);
            }
            drawTUSGSAL8 = function () {
                selectedOperador = 'TUSGSAL';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v8),
                            color: '#FFCC00',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TUSGSAL");
                    }
                }).addTo(mymap);
            }
            drawTUSGSAL9 = function () {
                selectedOperador = 'TUSGSAL';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v9),
                            color: '#FFCC00',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TUSGSAL");
                    }
                }).addTo(mymap);
            }
            drawTUSGSAL10 = function () {
                selectedOperador = 'TUSGSAL';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v10),
                            color: '#FFCC00',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TUSGSAL");
                    }
                }).addTo(mymap);
            }
            drawTUSGSAL11 = function () {
                selectedOperador = 'TUSGSAL';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v11),
                            color: '#FFCC00',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TUSGSAL");
                    }
                }).addTo(mymap);
            }
            drawTUSGSAL12 = function () {
                selectedOperador = 'TUSGSAL';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v12),
                            color: '#FFCC00',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TUSGSAL");
                    }
                }).addTo(mymap);
            }
            drawTUSGSAL13 = function () {
                selectedOperador = 'TUSGSAL';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v13),
                            color: '#FFCC00',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TUSGSAL");
                    }
                }).addTo(mymap);
            }
            drawTUSGSAL14 = function () {
                selectedOperador = 'TUSGSAL';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v14),
                            color: '#FFCC00',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TUSGSAL");
                    }
                }).addTo(mymap);
            }
            drawTUSGSAL15 = function () {
                selectedOperador = 'TUSGSAL';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v15),
                            color: '#FFCC00',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TUSGSAL");
                    }
                }).addTo(mymap);
            }
            drawTUSGSAL16 = function () {
                selectedOperador = 'TUSGSAL';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v16),
                            color: '#FFCC00',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TUSGSAL");
                    }
                }).addTo(mymap);
            }
            drawTUSGSAL17 = function () {
                selectedOperador = 'TUSGSAL';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v17),
                            color: '#FFCC00',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TUSGSAL");
                    }
                }).addTo(mymap);
            }
            drawTUSGSAL18 = function () {
                selectedOperador = 'TUSGSAL';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v18),
                            color: '#FFCC00',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TUSGSAL");
                    }
                }).addTo(mymap);
            }
            drawTUSGSAL19 = function () {
                selectedOperador = 'TUSGSAL';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v19),
                            color: '#FFCC00',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TUSGSAL");
                    }
                }).addTo(mymap);
            }
            drawTUSGSAL20 = function () {
                selectedOperador = 'TUSGSAL';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v20),
                            color: '#FFCC00',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TUSGSAL");
                    }
                }).addTo(mymap);
            }
            drawTUSGSAL21 = function () {
                selectedOperador = 'TUSGSAL';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v21),
                            color: '#FFCC00',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TUSGSAL");
                    }
                }).addTo(mymap);
            }
            drawTUSGSAL22 = function () {
                selectedOperador = 'TUSGSAL';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v22),
                            color: '#FFCC00',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TUSGSAL");
                    }
                }).addTo(mymap);
            }
            drawTUSGSAL23 = function () {
                selectedOperador = 'TUSGSAL';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v23),
                            color: '#FFCC00',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TUSGSAL");
                    }
                }).addTo(mymap);
            }
            drawTUSGSAL24 = function () {
                selectedOperador = 'TUSGSAL';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v24),
                            color: '#FFCC00',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TUSGSAL");
                    }
                }).addTo(mymap);
            }
            drawTUSGSAL25 = function () {
                selectedOperador = 'TUSGSAL';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v25),
                            color: '#FFCC00',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TUSGSAL");
                    }
                }).addTo(mymap);
            }
            drawTUSGSAL26 = function () {
                selectedOperador = 'TUSGSAL';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v26),
                            color: '#FFCC00',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TUSGSAL");
                    }
                }).addTo(mymap);
            }
            drawTUSGSAL27 = function () {
                selectedOperador = 'TUSGSAL';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v27),
                            color: '#FFCC00',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TUSGSAL");
                    }
                }).addTo(mymap);
            }
            drawTUSGSAL28 = function () {
                selectedOperador = 'TUSGSAL';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v28),
                            color: '#FFCC00',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TUSGSAL");
                    }
                }).addTo(mymap);
            }
            drawTUSGSAL29 = function () {
                selectedOperador = 'TUSGSAL';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v29),
                            color: '#FFCC00',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TUSGSAL");
                    }
                }).addTo(mymap);
            }
            drawTUSGSAL30 = function () {
                selectedOperador = 'TUSGSAL';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v30),
                            color: '#FFCC00',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TUSGSAL");
                    }
                }).addTo(mymap);
            }

            drawTUSGSAL31 = function () {
                selectedOperador = 'TUSGSAL';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v31),
                            color: '#FFCC00',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "TUSGSAL");
                    }
                }).addTo(mymap);
            }
            //Filtratge per operador NITBUS

            drawNITBUS = function () {
                selectedOperador = 'NITBUS';

                document.getElementById('metro').style.background = "none";
                document.getElementById('fgc').style.background = "none";
                document.getElementById('rod').style.background = "none";
                document.getElementById('tmb').style.background = "none";
                document.getElementById('tram').style.background = "none";
                document.getElementById('tusgsal').style.background = "none";
                document.getElementById('baixbus').style.background = "none";
                document.getElementById('nitbus').style.background = "rgb(4, 143, 108)";

                neteja();

                if (barra.value == 1) { drawNITBUS1() }
                else if (barra.value == 2) { drawNITBUS2() }
                else if (barra.value == 3) { drawNITBUS3() }
                else if (barra.value == 4) { drawNITBUS4() }
                else if (barra.value == 5) { drawNITBUS5() }
                else if (barra.value == 6) { drawNITBUS6() }
                else if (barra.value == 7) { drawNITBUS7() }
                else if (barra.value == 8) { drawNITBUS8() }
                else if (barra.value == 9) { drawNITBUS9() }
                else if (barra.value == 10) { drawNITBUS10() }
                else if (barra.value == 11) { drawNITBUS11() }
                else if (barra.value == 12) { drawNITBUS12() }
                else if (barra.value == 13) { drawNITBUS13() }
                else if (barra.value == 14) { drawNITBUS14() }
                else if (barra.value == 15) { drawNITBUS15() }
                else if (barra.value == 16) { drawNITBUS16() }
                else if (barra.value == 17) { drawNITBUS17() }
                else if (barra.value == 18) { drawNITBUS18() }
                else if (barra.value == 19) { drawNITBUS19() }
                else if (barra.value == 20) { drawNITBUS20() }
                else if (barra.value == 21) { drawNITBUS21() }
                else if (barra.value == 22) { drawNITBUS22() }
                else if (barra.value == 23) { drawNITBUS23() }
                else if (barra.value == 24) { drawNITBUS24() }
                else if (barra.value == 25) { drawNITBUS25() }
                else if (barra.value == 26) { drawNITBUS26() }
                else if (barra.value == 27) { drawNITBUS27() }
                else if (barra.value == 28) { drawNITBUS28() }
                else if (barra.value == 29) { drawNITBUS29() }
                else if (barra.value == 30) { drawNITBUS30() }
                else if (barra.value == 31) { drawNITBUS31() }
            }

            drawNITBUS1 = function () {
                selectedOperador = 'NITBUS';

                kyBusDilluns = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v1),
                            color: '#004dca',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "NITBUS");
                    }
                }).addTo(mymap);

            }

            drawNITBUS2 = function () {
                selectedOperador = 'NITBUS';

                kyBusDimarts = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v2),
                            color: '#004dca',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "NITBUS");
                    }
                }).addTo(mymap);

            }

            drawNITBUS3 = function () {
                selectedOperador = 'NITBUS';

                kyBusDimecres = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v3),
                            color: '#004dca',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "NITBUS");
                    }
                }).addTo(mymap);

            }

            drawNITBUS4 = function () {
                selectedOperador = 'NITBUS';

                kyBusDijous = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v4),
                            color: '#004dca',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "NITBUS");
                    }
                }).addTo(mymap);

            }

            drawNITBUS5 = function () {
                selectedOperador = 'NITBUS';

                kyBusDivendres = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v5),
                            color: '#004dca',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "NITBUS");
                    }
                }).addTo(mymap);

            }

            drawNITBUS6 = function () {
                selectedOperador = 'NITBUS';

                kyBusDissabte = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v6),
                            color: '#004dca',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "NITBUS");
                    }
                }).addTo(mymap);

            }

            drawNITBUS7 = function () {
                selectedOperador = 'NITBUS';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v7),
                            color: '#004dca',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "NITBUS");
                    }
                }).addTo(mymap);
            }
            drawNITBUS8 = function () {
                selectedOperador = 'NITBUS';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v8),
                            color: '#004dca',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "NITBUS");
                    }
                }).addTo(mymap);
            }
            drawNITBUS9 = function () {
                selectedOperador = 'NITBUS';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v9),
                            color: '#004dca',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "NITBUS");
                    }
                }).addTo(mymap);
            }
            drawNITBUS10 = function () {
                selectedOperador = 'NITBUS';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v10),
                            color: '#004dca',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "NITBUS");
                    }
                }).addTo(mymap);
            }
            drawNITBUS11 = function () {
                selectedOperador = 'NITBUS';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v11),
                            color: '#004dca',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "NITBUS");
                    }
                }).addTo(mymap);
            }
            drawNITBUS12 = function () {
                selectedOperador = 'NITBUS';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v12),
                            color: '#004dca',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "NITBUS");
                    }
                }).addTo(mymap);
            }
            drawNITBUS13 = function () {
                selectedOperador = 'NITBUS';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v13),
                            color: '#004dca',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "NITBUS");
                    }
                }).addTo(mymap);
            }
            drawNITBUS14 = function () {
                selectedOperador = 'NITBUS';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v14),
                            color: '#004dca',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "NITBUS");
                    }
                }).addTo(mymap);
            }
            drawNITBUS15 = function () {
                selectedOperador = 'NITBUS';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v15),
                            color: '#004dca',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "NITBUS");
                    }
                }).addTo(mymap);
            }
            drawNITBUS16 = function () {
                selectedOperador = 'NITBUS';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v16),
                            color: '#004dca',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "NITBUS");
                    }
                }).addTo(mymap);
            }
            drawNITBUS17 = function () {
                selectedOperador = 'NITBUS';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v17),
                            color: '#004dca',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "NITBUS");
                    }
                }).addTo(mymap);
            }
            drawNITBUS18 = function () {
                selectedOperador = 'NITBUS';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v18),
                            color: '#004dca',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "NITBUS");
                    }
                }).addTo(mymap);
            }
            drawNITBUS19 = function () {
                selectedOperador = 'NITBUS';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v19),
                            color: '#004dca',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "NITBUS");
                    }
                }).addTo(mymap);
            }
            drawNITBUS20 = function () {
                selectedOperador = 'NITBUS';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v20),
                            color: '#004dca',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "NITBUS");
                    }
                }).addTo(mymap);
            }
            drawNITBUS21 = function () {
                selectedOperador = 'NITBUS';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v21),
                            color: '#004dca',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "NITBUS");
                    }
                }).addTo(mymap);
            }
            drawNITBUS22 = function () {
                selectedOperador = 'NITBUS';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v22),
                            color: '#004dca',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "NITBUS");
                    }
                }).addTo(mymap);
            }
            drawNITBUS23 = function () {
                selectedOperador = 'NITBUS';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v23),
                            color: '#004dca',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "NITBUS");
                    }
                }).addTo(mymap);
            }
            drawNITBUS24 = function () {
                selectedOperador = 'NITBUS';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v24),
                            color: '#004dca',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "NITBUS");
                    }
                }).addTo(mymap);
            }
            drawNITBUS25 = function () {
                selectedOperador = 'NITBUS';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v25),
                            color: '#004dca',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "NITBUS");
                    }
                }).addTo(mymap);
            }
            drawNITBUS26 = function () {
                selectedOperador = 'NITBUS';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v26),
                            color: '#004dca',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "NITBUS");
                    }
                }).addTo(mymap);
            }
            drawNITBUS27 = function () {
                selectedOperador = 'NITBUS';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v27),
                            color: '#004dca',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "NITBUS");
                    }
                }).addTo(mymap);
            }
            drawNITBUS28 = function () {
                selectedOperador = 'NITBUS';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v28),
                            color: '#004dca',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "NITBUS");
                    }
                }).addTo(mymap);
            }
            drawNITBUS29 = function () {
                selectedOperador = 'NITBUS';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v29),
                            color: '#004dca',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "NITBUS");
                    }
                }).addTo(mymap);
            }
            drawNITBUS30 = function () {
                selectedOperador = 'NITBUS';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v30),
                            color: '#004dca',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "NITBUS");
                    }
                }).addTo(mymap);
            }
            drawNITBUS31 = function () {
                selectedOperador = 'NITBUS';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v31),
                            color: '#004dca',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "NITBUS");
                    }
                }).addTo(mymap);
            }

            //Filtratge per operador BAIXBUS

            drawBAIXBUS = function () {
                selectedOperador = 'BAIXBUS';

                document.getElementById('metro').style.background = "none";
                document.getElementById('fgc').style.background = "none";
                document.getElementById('rod').style.background = "none";
                document.getElementById('tmb').style.background = "none";
                document.getElementById('tram').style.background = "none";
                document.getElementById('tusgsal').style.background = "none";
                document.getElementById('baixbus').style.background = "rgb(4, 143, 108)";
                document.getElementById('nitbus').style.background = "none";

                neteja();

                if (barra.value == 1) { drawBAIXBUS1() }
                else if (barra.value == 2) { drawBAIXBUS2() }
                else if (barra.value == 3) { drawBAIXBUS3() }
                else if (barra.value == 4) { drawBAIXBUS4() }
                else if (barra.value == 5) { drawBAIXBUS5() }
                else if (barra.value == 6) { drawBAIXBUS6() }
                else if (barra.value == 7) { drawBAIXBUS7() }
                else if (barra.value == 8) { drawBAIXBUS8() }
                else if (barra.value == 9) { drawBAIXBUS9() }
                else if (barra.value == 10) { drawBAIXBUS10() }
                else if (barra.value == 11) { drawBAIXBUS11() }
                else if (barra.value == 12) { drawBAIXBUS12() }
                else if (barra.value == 13) { drawBAIXBUS13() }
                else if (barra.value == 14) { drawBAIXBUS14() }
                else if (barra.value == 15) { drawBAIXBUS15() }
                else if (barra.value == 16) { drawBAIXBUS16() }
                else if (barra.value == 17) { drawBAIXBUS17() }
                else if (barra.value == 18) { drawBAIXBUS18() }
                else if (barra.value == 19) { drawBAIXBUS19() }
                else if (barra.value == 20) { drawBAIXBUS20() }
                else if (barra.value == 21) { drawBAIXBUS21() }
                else if (barra.value == 22) { drawBAIXBUS22() }
                else if (barra.value == 23) { drawBAIXBUS23() }
                else if (barra.value == 24) { drawBAIXBUS24() }
                else if (barra.value == 25) { drawBAIXBUS25() }
                else if (barra.value == 26) { drawBAIXBUS26() }
                else if (barra.value == 27) { drawBAIXBUS27() }
                else if (barra.value == 28) { drawBAIXBUS28() }
                else if (barra.value == 29) { drawBAIXBUS29() }
                else if (barra.value == 30) { drawBAIXBUS30() }
                else if (barra.value == 31) { drawBAIXBUS31() }
            }

            drawBAIXBUS1 = function () {
                selectedOperador = 'BAIXBUS';

                kyBusDilluns = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v1),
                            color: '#FFCC00',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "BAIXBUS");
                    }
                }).addTo(mymap);

            }

            drawBAIXBUS2 = function () {
                selectedOperador = 'BAIXBUS';

                kyBusDimarts = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v2),
                            color: '#FFCC00',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "BAIXBUS");
                    }
                }).addTo(mymap);

            }

            drawBAIXBUS3 = function () {
                selectedOperador = 'BAIXBUS';

                kyBusDimecres = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v3),
                            color: '#FFCC00',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "BAIXBUS");
                    }
                }).addTo(mymap);

            }

            drawBAIXBUS4 = function () {
                selectedOperador = 'BAIXBUS';

                kyBusDijous = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v4),
                            color: '#FFCC00',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "BAIXBUS");
                    }
                }).addTo(mymap);

            }

            drawBAIXBUS5 = function () {
                selectedOperador = 'BAIXBUS';

                kyBusDivendres = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v5),
                            color: '#FFCC00',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "BAIXBUS");
                    }
                }).addTo(mymap);

            }

            drawBAIXBUS6 = function () {
                selectedOperador = 'BAIXBUS';

                kyBusDissabte = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v6),
                            color: '#FFCC00',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "BAIXBUS");
                    }
                }).addTo(mymap);

            }

            drawBAIXBUS7 = function () {
                selectedOperador = 'BAIXBUS';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v7),
                            color: '#FFCC00',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "BAIXBUS");
                    }
                }).addTo(mymap);
            }
            drawBAIXBUS8 = function () {
                selectedOperador = 'BAIXBUS';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v8),
                            color: '#FFCC00',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "BAIXBUS");
                    }
                }).addTo(mymap);
            }
            drawBAIXBUS9 = function () {
                selectedOperador = 'BAIXBUS';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v9),
                            color: '#FFCC00',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "BAIXBUS");
                    }
                }).addTo(mymap);
            }
            drawBAIXBUS10 = function () {
                selectedOperador = 'BAIXBUS';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v10),
                            color: '#FFCC00',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "BAIXBUS");
                    }
                }).addTo(mymap);
            }
            drawBAIXBUS11 = function () {
                selectedOperador = 'BAIXBUS';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v11),
                            color: '#FFCC00',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "BAIXBUS");
                    }
                }).addTo(mymap);
            }
            drawBAIXBUS12 = function () {
                selectedOperador = 'BAIXBUS';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v12),
                            color: '#FFCC00',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "BAIXBUS");
                    }
                }).addTo(mymap);
            }
            drawBAIXBUS13 = function () {
                selectedOperador = 'BAIXBUS';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v13),
                            color: '#FFCC00',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "BAIXBUS");
                    }
                }).addTo(mymap);
            }
            drawBAIXBUS14 = function () {
                selectedOperador = 'BAIXBUS';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v14),
                            color: '#FFCC00',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "BAIXBUS");
                    }
                }).addTo(mymap);
            }
            drawBAIXBUS15 = function () {
                selectedOperador = 'BAIXBUS';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v15),
                            color: '#FFCC00',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "BAIXBUS");
                    }
                }).addTo(mymap);
            }
            drawBAIXBUS16 = function () {
                selectedOperador = 'BAIXBUS';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v16),
                            color: '#FFCC00',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "BAIXBUS");
                    }
                }).addTo(mymap);
            }
            drawBAIXBUS17 = function () {
                selectedOperador = 'BAIXBUS';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v17),
                            color: '#FFCC00',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "BAIXBUS");
                    }
                }).addTo(mymap);
            }
            drawBAIXBUS18 = function () {
                selectedOperador = 'BAIXBUS';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v18),
                            color: '#FFCC00',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "BAIXBUS");
                    }
                }).addTo(mymap);
            }
            drawBAIXBUS19 = function () {
                selectedOperador = 'BAIXBUS';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v19),
                            color: '#FFCC00',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "BAIXBUS");
                    }
                }).addTo(mymap);
            }
            drawBAIXBUS20 = function () {
                selectedOperador = 'BAIXBUS';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v20),
                            color: '#FFCC00',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "BAIXBUS");
                    }
                }).addTo(mymap);
            }
            drawBAIXBUS21 = function () {
                selectedOperador = 'BAIXBUS';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v21),
                            color: '#FFCC00',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "BAIXBUS");
                    }
                }).addTo(mymap);
            }
            drawBAIXBUS22 = function () {
                selectedOperador = 'BAIXBUS';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v22),
                            color: '#FFCC00',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "BAIXBUS");
                    }
                }).addTo(mymap);
            }
            drawBAIXBUS23 = function () {
                selectedOperador = 'BAIXBUS';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v23),
                            color: '#FFCC00',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "BAIXBUS");
                    }
                }).addTo(mymap);
            }
            drawBAIXBUS24 = function () {
                selectedOperador = 'BAIXBUS';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v24),
                            color: '#FFCC00',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "BAIXBUS");
                    }
                }).addTo(mymap);
            }
            drawBAIXBUS25 = function () {
                selectedOperador = 'BAIXBUS';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v25),
                            color: '#FFCC00',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "BAIXBUS");
                    }
                }).addTo(mymap);
            }
            drawBAIXBUS26 = function () {
                selectedOperador = 'BAIXBUS';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v26),
                            color: '#FFCC00',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "BAIXBUS");
                    }
                }).addTo(mymap);
            }
            drawBAIXBUS27 = function () {
                selectedOperador = 'BAIXBUS';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v27),
                            color: '#FFCC00',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "BAIXBUS");
                    }
                }).addTo(mymap);
            }
            drawBAIXBUS28 = function () {
                selectedOperador = 'BAIXBUS';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v28),
                            color: '#FFCC00',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "BAIXBUS");
                    }
                }).addTo(mymap);
            }
            drawBAIXBUS29 = function () {
                selectedOperador = 'BAIXBUS';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v29),
                            color: '#FFCC00',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "BAIXBUS");
                    }
                }).addTo(mymap);
            }
            drawBAIXBUS30 = function () {
                selectedOperador = 'BAIXBUS';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v30),
                            color: '#FFCC00',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "BAIXBUS");
                    }
                }).addTo(mymap);
            }
            drawBAIXBUS31 = function () {
                selectedOperador = 'BAIXBUS';
                kyBusDiumenge = L.geoJSON(val30_bus.responseJSON, {
                    onEachFeature: onEachFeatureBus,
                    style: function (feature, layer) {
                        return {
                            weight: 2,
                            opacity: getOpacity(feature.properties.v31),
                            color: '#FFCC00',
                            dashArray: '',
                            fillOpacity: 1,
                        };
                    },
                    filter: function (feature, layer) {
                        return (feature.properties.operador == "BAIXBUS");
                    }
                }).addTo(mymap);
            }


            //animem slider al fer play

            var myInterval;
            var counter = 1;
            var playing = 0;

            playPause = function () {
                document.getElementById('play').classList.remove("fa-play");
                document.getElementById('play').classList.add("fa-pause");

            }

            pausePlay = function () {
                document.getElementById('play').classList.remove("fa-pause");
                document.getElementById('play').classList.add("fa-play");

            }

            $('#play').on('click', function () {
                playPause();

                if (playing == 0) {
                    playing++;
                    myInterval = setInterval(function () {

                        barra.value++;
                        counter++;
                        if (counter > 31) {
                            barra.value = 1;
                            counter = 1;
                        }


                        console.log(barra.value);
                        console.log(counter);
                        if (barra.value == 1) {
                            output.innerHTML = '01/01/2022';
                            neteja();
                            if (selectedOperador == 'FMB') { drawTMB1(); }
                            else if (selectedOperador == 'FGC') { drawFGC1(); }
                            else if (selectedOperador == 'ROD') { drawROD1(); }
                            else if (selectedOperador == 'TB') { drawTB1(); }
                            else if (selectedOperador == 'TRAM') { drawTRAM1(); }
                            else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL1(); }
                            else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS1(); }
                            else if (selectedOperador == 'NITBUS') { drawNITBUS1(); }
                            counter = 1;
                        }
                        else if (barra.value == 2) {
                            output.innerHTML = '02/01/2022';
                            neteja();
                            if (selectedOperador == 'FMB') { drawTMB2(); }
                            else if (selectedOperador == 'FGC') { drawFGC2(); }
                            else if (selectedOperador == 'ROD') { drawROD2(); }
                            else if (selectedOperador == 'TB') { drawTB2(); }
                            else if (selectedOperador == 'TRAM') { drawTRAM2(); }
                            else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL2(); }
                            else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS2(); }
                            else if (selectedOperador == 'NITBUS') { drawNITBUS2(); }
                            counter = 2;
                        }
                        else if (barra.value == 3) {
                            output.innerHTML = '03/01/2022';
                            neteja();
                            if (selectedOperador == 'FMB') { drawTMB3(); }
                            else if (selectedOperador == 'FGC') { drawFGC3(); }
                            else if (selectedOperador == 'ROD') { drawROD3(); }
                            else if (selectedOperador == 'TB') { drawTB3(); }
                            else if (selectedOperador == 'TRAM') { drawTRAM3(); }
                            else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL3(); }
                            else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS3(); }
                            else if (selectedOperador == 'NITBUS') { drawNITBUS3(); }
                            counter = 3;
                        }
                        else if (barra.value == 4) {
                            output.innerHTML = '04/01/2022';
                            neteja();
                            if (selectedOperador == 'FMB') { drawTMB4(); }
                            else if (selectedOperador == 'FGC') { drawFGC4(); }
                            else if (selectedOperador == 'ROD') { drawROD4(); }
                            else if (selectedOperador == 'TB') { drawTB4(); }
                            else if (selectedOperador == 'TRAM') { drawTRAM4(); }
                            else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL4(); }
                            else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS4(); }
                            else if (selectedOperador == 'NITBUS') { drawNITBUS4(); }
                            counter = 4;
                        }
                        else if (barra.value == 5) {
                            output.innerHTML = '05/01/2022';
                            neteja();
                            if (selectedOperador == 'FMB') { drawTMB5(); }
                            else if (selectedOperador == 'FGC') { drawFGC5(); }
                            else if (selectedOperador == 'ROD') { drawROD5(); }
                            else if (selectedOperador == 'TB') { drawTB5(); }
                            else if (selectedOperador == 'TRAM') { drawTRAM5(); }
                            else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL5(); }
                            else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS5(); }
                            else if (selectedOperador == 'NITBUS') { drawNITBUS5(); }
                            counter = 5;
                        }
                        else if (barra.value == 6) {
                            output.innerHTML = '06/01/2022';
                            neteja();
                            if (selectedOperador == 'FMB') { drawTMB6(); }
                            else if (selectedOperador == 'FGC') { drawFGC6(); }
                            else if (selectedOperador == 'ROD') { drawROD6(); }
                            else if (selectedOperador == 'TB') { drawTB6(); }
                            else if (selectedOperador == 'TRAM') { drawTRAM6(); }
                            else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL6(); }
                            else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS6(); }
                            else if (selectedOperador == 'NITBUS') { drawNITBUS6(); }
                            counter = 6;
                        }
                        else if (barra.value == 7) {
                            output.innerHTML = '07/01/2022';
                            neteja();
                            if (selectedOperador == 'FMB') { drawTMB7(); }
                            else if (selectedOperador == 'FGC') { drawFGC7(); }
                            else if (selectedOperador == 'ROD') { drawROD7(); }
                            else if (selectedOperador == 'TB') { drawTB7(); }
                            else if (selectedOperador == 'TRAM') { drawTRAM7(); }
                            else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL7(); }
                            else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS7(); }
                            else if (selectedOperador == 'NITBUS') { drawNITBUS7(); }
                            counter = 7;
                        }
                        else if (barra.value == 8) {
                            output.innerHTML = '08/01/2022';
                            neteja();
                            if (selectedOperador == 'FMB') { drawTMB8(); }
                            else if (selectedOperador == 'FGC') { drawFGC8(); }
                            else if (selectedOperador == 'ROD') { drawROD8(); }
                            else if (selectedOperador == 'TB') { drawTB8(); }
                            else if (selectedOperador == 'TRAM') { drawTRAM8(); }
                            else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL8(); }
                            else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS8(); }
                            else if (selectedOperador == 'NITBUS') { drawNITBUS8(); }
                            counter = 8;
                        }
                        else if (barra.value == 9) {
                            output.innerHTML = '09/01/2022';
                            neteja();
                            if (selectedOperador == 'FMB') { drawTMB9(); }
                            else if (selectedOperador == 'FGC') { drawFGC9(); }
                            else if (selectedOperador == 'ROD') { drawROD9(); }
                            else if (selectedOperador == 'TB') { drawTB9(); }
                            else if (selectedOperador == 'TRAM') { drawTRAM9(); }
                            else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL9(); }
                            else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS9(); }
                            else if (selectedOperador == 'NITBUS') { drawNITBUS9(); }
                            counter = 9;
                        }
                        else if (barra.value == 10) {
                            output.innerHTML = '10/01/2022';
                            neteja();
                            if (selectedOperador == 'FMB') { drawTMB10(); }
                            else if (selectedOperador == 'FGC') { drawFGC10(); }
                            else if (selectedOperador == 'ROD') { drawROD10(); }
                            else if (selectedOperador == 'TB') { drawTB10(); }
                            else if (selectedOperador == 'TRAM') { drawTRAM10(); }
                            else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL10(); }
                            else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS10(); }
                            else if (selectedOperador == 'NITBUS') { drawNITBUS10(); }
                            counter = 10;
                        }
                        else if (barra.value == 11) {
                            output.innerHTML = '11/01/2022';
                            neteja();
                            if (selectedOperador == 'FMB') { drawTMB11(); }
                            else if (selectedOperador == 'FGC') { drawFGC11(); }
                            else if (selectedOperador == 'ROD') { drawROD11(); }
                            else if (selectedOperador == 'TB') { drawTB11(); }
                            else if (selectedOperador == 'TRAM') { drawTRAM11(); }
                            else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL11(); }
                            else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS11(); }
                            else if (selectedOperador == 'NITBUS') { drawNITBUS11(); }
                            counter = 11;
                        }
                        else if (barra.value == 12) {
                            output.innerHTML = '12/01/2022';
                            neteja();
                            if (selectedOperador == 'FMB') { drawTMB12(); }
                            else if (selectedOperador == 'FGC') { drawFGC12(); }
                            else if (selectedOperador == 'ROD') { drawROD12(); }
                            else if (selectedOperador == 'TB') { drawTB12(); }
                            else if (selectedOperador == 'TRAM') { drawTRAM12(); }
                            else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL12(); }
                            else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS12(); }
                            else if (selectedOperador == 'NITBUS') { drawNITBUS12(); }
                            counter = 12;
                        }
                        else if (barra.value == 13) {
                            output.innerHTML = '13/01/2022';
                            neteja();
                            if (selectedOperador == 'FMB') { drawTMB13(); }
                            else if (selectedOperador == 'FGC') { drawFGC13(); }
                            else if (selectedOperador == 'ROD') { drawROD7(); }
                            else if (selectedOperador == 'TB') { drawTB13(); }
                            else if (selectedOperador == 'TRAM') { drawTRAM13(); }
                            else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL13(); }
                            else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS13(); }
                            else if (selectedOperador == 'NITBUS') { drawNITBUS13(); }
                            counter = 13;
                        }
                        else if (barra.value == 14) {
                            output.innerHTML = '14/01/2022';
                            neteja();
                            if (selectedOperador == 'FMB') { drawTMB14(); }
                            else if (selectedOperador == 'FGC') { drawFGC14(); }
                            else if (selectedOperador == 'ROD') { drawROD14(); }
                            else if (selectedOperador == 'TB') { drawTB14(); }
                            else if (selectedOperador == 'TRAM') { drawTRAM14(); }
                            else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL14(); }
                            else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS14(); }
                            else if (selectedOperador == 'NITBUS') { drawNITBUS14(); }
                            counter = 14;
                        }
                        else if (barra.value == 15) {
                            output.innerHTML = '15/01/2022';
                            neteja();
                            if (selectedOperador == 'FMB') { drawTMB15(); }
                            else if (selectedOperador == 'FGC') { drawFGC15(); }
                            else if (selectedOperador == 'ROD') { drawROD15(); }
                            else if (selectedOperador == 'TB') { drawTB15(); }
                            else if (selectedOperador == 'TRAM') { drawTRAM15(); }
                            else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL15(); }
                            else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS15(); }
                            else if (selectedOperador == 'NITBUS') { drawNITBUS15(); }
                            counter = 15;
                        }
                        else if (barra.value == 16) {
                            output.innerHTML = '16/01/2022';
                            neteja();
                            if (selectedOperador == 'FMB') { drawTMB16(); }
                            else if (selectedOperador == 'FGC') { drawFGC16(); }
                            else if (selectedOperador == 'ROD') { drawROD16(); }
                            else if (selectedOperador == 'TB') { drawTB16(); }
                            else if (selectedOperador == 'TRAM') { drawTRAM16(); }
                            else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL16(); }
                            else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS16(); }
                            else if (selectedOperador == 'NITBUS') { drawNITBUS16(); }
                            counter = 16;
                        }
                        else if (barra.value == 17) {
                            output.innerHTML = '17/01/2022';
                            neteja();
                            if (selectedOperador == 'FMB') { drawTMB17(); }
                            else if (selectedOperador == 'FGC') { drawFGC17(); }
                            else if (selectedOperador == 'ROD') { drawROD17(); }
                            else if (selectedOperador == 'TB') { drawTB17(); }
                            else if (selectedOperador == 'TRAM') { drawTRAM17(); }
                            else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL17(); }
                            else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS17(); }
                            else if (selectedOperador == 'NITBUS') { drawNITBUS17(); }
                            counter = 17;
                        }
                        else if (barra.value == 18) {
                            output.innerHTML = '18/01/2022';
                            neteja();
                            if (selectedOperador == 'FMB') { drawTMB18(); }
                            else if (selectedOperador == 'FGC') { drawFGC18(); }
                            else if (selectedOperador == 'ROD') { drawROD18(); }
                            else if (selectedOperador == 'TB') { drawTB18(); }
                            else if (selectedOperador == 'TRAM') { drawTRAM18(); }
                            else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL18(); }
                            else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS18(); }
                            else if (selectedOperador == 'NITBUS') { drawNITBUS18(); }
                            counter = 18;
                        }
                        else if (barra.value == 19) {
                            output.innerHTML = '19/01/2022';
                            neteja();
                            if (selectedOperador == 'FMB') { drawTMB19(); }
                            else if (selectedOperador == 'FGC') { drawFGC19(); }
                            else if (selectedOperador == 'ROD') { drawROD19(); }
                            else if (selectedOperador == 'TB') { drawTB19(); }
                            else if (selectedOperador == 'TRAM') { drawTRAM19(); }
                            else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL19(); }
                            else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS19(); }
                            else if (selectedOperador == 'NITBUS') { drawNITBUS19(); }
                            counter = 19;
                        }
                        else if (barra.value == 20) {
                            output.innerHTML = '20/01/2022';
                            neteja();
                            if (selectedOperador == 'FMB') { drawTMB20(); }
                            else if (selectedOperador == 'FGC') { drawFGC20(); }
                            else if (selectedOperador == 'ROD') { drawROD20(); }
                            else if (selectedOperador == 'TB') { drawTB20(); }
                            else if (selectedOperador == 'TRAM') { drawTRAM20(); }
                            else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL20(); }
                            else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS20(); }
                            else if (selectedOperador == 'NITBUS') { drawNITBUS20(); }
                            counter = 20;
                        }
                        else if (barra.value == 21) {
                            output.innerHTML = '21/01/2022';
                            neteja();
                            if (selectedOperador == 'FMB') { drawTMB21(); }
                            else if (selectedOperador == 'FGC') { drawFGC21(); }
                            else if (selectedOperador == 'ROD') { drawROD21(); }
                            else if (selectedOperador == 'TB') { drawTB21(); }
                            else if (selectedOperador == 'TRAM') { drawTRAM21(); }
                            else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL21(); }
                            else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS21(); }
                            else if (selectedOperador == 'NITBUS') { drawNITBUS21(); }
                            counter = 21;
                        }
                        else if (barra.value == 22) {
                            output.innerHTML = '22/01/2022';
                            neteja();
                            if (selectedOperador == 'FMB') { drawTMB22(); }
                            else if (selectedOperador == 'FGC') { drawFGC22(); }
                            else if (selectedOperador == 'ROD') { drawROD22(); }
                            else if (selectedOperador == 'TB') { drawTB22(); }
                            else if (selectedOperador == 'TRAM') { drawTRAM22(); }
                            else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL22(); }
                            else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS22(); }
                            else if (selectedOperador == 'NITBUS') { drawNITBUS22(); }
                            counter = 22;
                        }
                        else if (barra.value == 23) {
                            output.innerHTML = '23/01/2022';
                            neteja();
                            if (selectedOperador == 'FMB') { drawTMB23(); }
                            else if (selectedOperador == 'FGC') { drawFGC23(); }
                            else if (selectedOperador == 'ROD') { drawROD23(); }
                            else if (selectedOperador == 'TB') { drawTB23(); }
                            else if (selectedOperador == 'TRAM') { drawTRAM23(); }
                            else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL23(); }
                            else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS23(); }
                            else if (selectedOperador == 'NITBUS') { drawNITBUS23(); }
                            counter = 23;
                        }
                        else if (barra.value == 24) {
                            output.innerHTML = '24/01/2022';
                            neteja();
                            if (selectedOperador == 'FMB') { drawTMB24(); }
                            else if (selectedOperador == 'FGC') { drawFGC24(); }
                            else if (selectedOperador == 'ROD') { drawROD24(); }
                            else if (selectedOperador == 'TB') { drawTB24(); }
                            else if (selectedOperador == 'TRAM') { drawTRAM24(); }
                            else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL24(); }
                            else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS24(); }
                            else if (selectedOperador == 'NITBUS') { drawNITBUS24(); }
                            counter = 24;
                        }
                        else if (barra.value == 25) {
                            output.innerHTML = '25/01/2022';
                            neteja();
                            if (selectedOperador == 'FMB') { drawTMB25(); }
                            else if (selectedOperador == 'FGC') { drawFGC25(); }
                            else if (selectedOperador == 'ROD') { drawROD25(); }
                            else if (selectedOperador == 'TB') { drawTB25(); }
                            else if (selectedOperador == 'TRAM') { drawTRAM25(); }
                            else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL25(); }
                            else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS25(); }
                            else if (selectedOperador == 'NITBUS') { drawNITBUS25(); }
                            counter = 25;
                        }
                        else if (barra.value == 26) {
                            output.innerHTML = '26/01/2022';
                            neteja();
                            if (selectedOperador == 'FMB') { drawTMB26(); }
                            else if (selectedOperador == 'FGC') { drawFGC26(); }
                            else if (selectedOperador == 'ROD') { drawROD26(); }
                            else if (selectedOperador == 'TB') { drawTB26(); }
                            else if (selectedOperador == 'TRAM') { drawTRAM26(); }
                            else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL26(); }
                            else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS26(); }
                            else if (selectedOperador == 'NITBUS') { drawNITBUS26(); }
                            counter = 26;
                        }
                        else if (barra.value == 27) {
                            output.innerHTML = '27/01/2022';
                            neteja();
                            if (selectedOperador == 'FMB') { drawTMB27(); }
                            else if (selectedOperador == 'FGC') { drawFGC27(); }
                            else if (selectedOperador == 'ROD') { drawROD27(); }
                            else if (selectedOperador == 'TB') { drawTB27(); }
                            else if (selectedOperador == 'TRAM') { drawTRAM27(); }
                            else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL27(); }
                            else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS27(); }
                            else if (selectedOperador == 'NITBUS') { drawNITBUS27(); }
                            counter = 27;
                        }
                        else if (barra.value == 28) {
                            output.innerHTML = '28/01/2022';
                            neteja();
                            if (selectedOperador == 'FMB') { drawTMB28(); }
                            else if (selectedOperador == 'FGC') { drawFGC28(); }
                            else if (selectedOperador == 'ROD') { drawROD28(); }
                            else if (selectedOperador == 'TB') { drawTB28(); }
                            else if (selectedOperador == 'TRAM') { drawTRAM28(); }
                            else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL28(); }
                            else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS28(); }
                            else if (selectedOperador == 'NITBUS') { drawNITBUS28(); }
                            counter = 28;
                        }
                        else if (barra.value == 29) {
                            output.innerHTML = '29/01/2022';
                            neteja();
                            if (selectedOperador == 'FMB') { drawTMB29(); }
                            else if (selectedOperador == 'FGC') { drawFGC29(); }
                            else if (selectedOperador == 'ROD') { drawROD29(); }
                            else if (selectedOperador == 'TB') { drawTB29(); }
                            else if (selectedOperador == 'TRAM') { drawTRAM29(); }
                            else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL29(); }
                            else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS29(); }
                            else if (selectedOperador == 'NITBUS') { drawNITBUS29(); }
                            counter = 29;
                        }
                        else if (barra.value == 30) {
                            output.innerHTML = '30/01/2022';
                            neteja();
                            if (selectedOperador == 'FMB') { drawTMB30(); }
                            else if (selectedOperador == 'FGC') { drawFGC30(); }
                            else if (selectedOperador == 'ROD') { drawROD30(); }
                            else if (selectedOperador == 'TB') { drawTB30(); }
                            else if (selectedOperador == 'TRAM') { drawTRAM30(); }
                            else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL30(); }
                            else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS30(); }
                            else if (selectedOperador == 'NITBUS') { drawNITBUS30(); }
                            counter = 30;
                        }
                        else if (barra.value == 31) {
                            output.innerHTML = '31/01/2022';
                            neteja();
                            if (selectedOperador == 'FMB') { drawTMB31(); }
                            else if (selectedOperador == 'FGC') { drawFGC31(); }
                            else if (selectedOperador == 'ROD') { drawROD31(); }
                            else if (selectedOperador == 'TB') { drawTB31(); }
                            else if (selectedOperador == 'TRAM') { drawTRAM31(); }
                            else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL31(); }
                            else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS31(); }
                            else if (selectedOperador == 'NITBUS') { drawNITBUS31(); }
                            counter = 31;
                        }

                    }, 750);
                }
                else {
                    clearInterval(myInterval);
                    pausePlay();
                    playing = 0;
                }

            });


            //Filtrem els dies de la setmana a l'slider


            $('#myRange').on('change', function () {

                if (barra.value == 1) {
                    output.innerHTML = '01/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB1(); }
                    else if (selectedOperador == 'FGC') { drawFGC1(); }
                    else if (selectedOperador == 'ROD') { drawROD1(); }
                    else if (selectedOperador == 'TB') { drawTB1(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM1(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL1(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS1(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS1(); }
                    counter = 1;
                }
                else if (barra.value == 2) {
                    output.innerHTML = '02/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB2(); }
                    else if (selectedOperador == 'FGC') { drawFGC2(); }
                    else if (selectedOperador == 'ROD') { drawROD2(); }
                    else if (selectedOperador == 'TB') { drawTB2(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM2(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL2(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS2(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS2(); }
                    counter = 2;
                }
                else if (barra.value == 3) {
                    output.innerHTML = '03/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB3(); }
                    else if (selectedOperador == 'FGC') { drawFGC3(); }
                    else if (selectedOperador == 'ROD') { drawROD3(); }
                    else if (selectedOperador == 'TB') { drawTB3(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM3(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL3(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS3(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS3(); }
                    counter = 3;
                }
                else if (barra.value == 4) {
                    output.innerHTML = '04/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB4(); }
                    else if (selectedOperador == 'FGC') { drawFGC4(); }
                    else if (selectedOperador == 'ROD') { drawROD4(); }
                    else if (selectedOperador == 'TB') { drawTB4(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM4(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL4(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS4(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS4(); }
                    counter = 4;
                }
                else if (barra.value == 5) {
                    output.innerHTML = '05/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB5(); }
                    else if (selectedOperador == 'FGC') { drawFGC5(); }
                    else if (selectedOperador == 'ROD') { drawROD5(); }
                    else if (selectedOperador == 'TB') { drawTB5(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM5(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL5(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS5(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS5(); }
                    counter = 5;
                }
                else if (barra.value == 6) {
                    output.innerHTML = '06/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB6(); }
                    else if (selectedOperador == 'FGC') { drawFGC6(); }
                    else if (selectedOperador == 'ROD') { drawROD6(); }
                    else if (selectedOperador == 'TB') { drawTB6(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM6(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL6(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS6(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS6(); }
                    counter = 6;
                }
                else if (barra.value == 7) {
                    output.innerHTML = '07/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB7(); }
                    else if (selectedOperador == 'FGC') { drawFGC7(); }
                    else if (selectedOperador == 'ROD') { drawROD7(); }
                    else if (selectedOperador == 'TB') { drawTB7(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM7(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL7(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS7(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS7(); }
                    counter = 7;
                }
                else if (barra.value == 8) {
                    output.innerHTML = '08/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB8(); }
                    else if (selectedOperador == 'FGC') { drawFGC8(); }
                    else if (selectedOperador == 'ROD') { drawROD8(); }
                    else if (selectedOperador == 'TB') { drawTB8(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM8(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL8(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS8(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS8(); }
                    counter = 8;
                }
                else if (barra.value == 9) {
                    output.innerHTML = '09/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB9(); }
                    else if (selectedOperador == 'FGC') { drawFGC9(); }
                    else if (selectedOperador == 'ROD') { drawROD9(); }
                    else if (selectedOperador == 'TB') { drawTB9(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM9(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL9(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS9(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS9(); }
                    counter = 9;
                }
                else if (barra.value == 10) {
                    output.innerHTML = '10/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB10(); }
                    else if (selectedOperador == 'FGC') { drawFGC10(); }
                    else if (selectedOperador == 'ROD') { drawROD10(); }
                    else if (selectedOperador == 'TB') { drawTB10(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM10(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL10(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS10(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS10(); }
                    counter = 10;
                }
                else if (barra.value == 11) {
                    output.innerHTML = '11/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB11(); }
                    else if (selectedOperador == 'FGC') { drawFGC11(); }
                    else if (selectedOperador == 'ROD') { drawROD11(); }
                    else if (selectedOperador == 'TB') { drawTB11(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM11(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL11(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS11(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS11(); }
                    counter = 11;
                }
                else if (barra.value == 12) {
                    output.innerHTML = '12/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB12(); }
                    else if (selectedOperador == 'FGC') { drawFGC12(); }
                    else if (selectedOperador == 'ROD') { drawROD12(); }
                    else if (selectedOperador == 'TB') { drawTB12(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM12(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL12(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS12(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS12(); }
                    counter = 12;
                }
                else if (barra.value == 13) {
                    output.innerHTML = '13/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB13(); }
                    else if (selectedOperador == 'FGC') { drawFGC13(); }
                    else if (selectedOperador == 'ROD') { drawROD7(); }
                    else if (selectedOperador == 'TB') { drawTB13(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM13(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL13(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS13(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS13(); }
                    counter = 13;
                }
                else if (barra.value == 14) {
                    output.innerHTML = '14/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB14(); }
                    else if (selectedOperador == 'FGC') { drawFGC14(); }
                    else if (selectedOperador == 'ROD') { drawROD14(); }
                    else if (selectedOperador == 'TB') { drawTB14(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM14(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL14(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS14(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS14(); }
                    counter = 14;
                }
                else if (barra.value == 15) {
                    output.innerHTML = '15/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB15(); }
                    else if (selectedOperador == 'FGC') { drawFGC15(); }
                    else if (selectedOperador == 'ROD') { drawROD15(); }
                    else if (selectedOperador == 'TB') { drawTB15(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM15(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL15(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS15(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS15(); }
                    counter = 15;
                }
                else if (barra.value == 16) {
                    output.innerHTML = '16/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB16(); }
                    else if (selectedOperador == 'FGC') { drawFGC16(); }
                    else if (selectedOperador == 'ROD') { drawROD16(); }
                    else if (selectedOperador == 'TB') { drawTB16(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM16(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL16(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS16(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS16(); }
                    counter = 16;
                }
                else if (barra.value == 17) {
                    output.innerHTML = '17/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB17(); }
                    else if (selectedOperador == 'FGC') { drawFGC17(); }
                    else if (selectedOperador == 'ROD') { drawROD17(); }
                    else if (selectedOperador == 'TB') { drawTB17(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM17(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL17(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS17(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS17(); }
                    counter = 17;
                }
                else if (barra.value == 18) {
                    output.innerHTML = '18/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB18(); }
                    else if (selectedOperador == 'FGC') { drawFGC18(); }
                    else if (selectedOperador == 'ROD') { drawROD18(); }
                    else if (selectedOperador == 'TB') { drawTB18(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM18(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL18(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS18(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS18(); }
                    counter = 18;
                }
                else if (barra.value == 19) {
                    output.innerHTML = '19/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB19(); }
                    else if (selectedOperador == 'FGC') { drawFGC19(); }
                    else if (selectedOperador == 'ROD') { drawROD19(); }
                    else if (selectedOperador == 'TB') { drawTB19(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM19(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL19(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS19(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS19(); }
                    counter = 19;
                }
                else if (barra.value == 20) {
                    output.innerHTML = '20/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB20(); }
                    else if (selectedOperador == 'FGC') { drawFGC20(); }
                    else if (selectedOperador == 'ROD') { drawROD20(); }
                    else if (selectedOperador == 'TB') { drawTB20(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM20(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL20(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS20(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS20(); }
                    counter = 20;
                }
                else if (barra.value == 21) {
                    output.innerHTML = '21/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB21(); }
                    else if (selectedOperador == 'FGC') { drawFGC21(); }
                    else if (selectedOperador == 'ROD') { drawROD21(); }
                    else if (selectedOperador == 'TB') { drawTB21(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM21(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL21(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS21(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS21(); }
                    counter = 21;
                }
                else if (barra.value == 22) {
                    output.innerHTML = '22/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB22(); }
                    else if (selectedOperador == 'FGC') { drawFGC22(); }
                    else if (selectedOperador == 'ROD') { drawROD22(); }
                    else if (selectedOperador == 'TB') { drawTB22(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM22(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL22(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS22(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS22(); }
                    counter = 22;
                }
                else if (barra.value == 23) {
                    output.innerHTML = '23/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB23(); }
                    else if (selectedOperador == 'FGC') { drawFGC23(); }
                    else if (selectedOperador == 'ROD') { drawROD23(); }
                    else if (selectedOperador == 'TB') { drawTB23(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM23(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL23(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS23(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS23(); }
                    counter = 23;
                }
                else if (barra.value == 24) {
                    output.innerHTML = '24/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB24(); }
                    else if (selectedOperador == 'FGC') { drawFGC24(); }
                    else if (selectedOperador == 'ROD') { drawROD24(); }
                    else if (selectedOperador == 'TB') { drawTB24(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM24(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL24(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS24(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS24(); }
                    counter = 24;
                }
                else if (barra.value == 25) {
                    output.innerHTML = '25/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB25(); }
                    else if (selectedOperador == 'FGC') { drawFGC25(); }
                    else if (selectedOperador == 'ROD') { drawROD25(); }
                    else if (selectedOperador == 'TB') { drawTB25(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM25(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL25(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS25(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS25(); }
                    counter = 25;
                }
                else if (barra.value == 26) {
                    output.innerHTML = '26/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB26(); }
                    else if (selectedOperador == 'FGC') { drawFGC26(); }
                    else if (selectedOperador == 'ROD') { drawROD26(); }
                    else if (selectedOperador == 'TB') { drawTB26(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM26(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL26(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS26(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS26(); }
                    counter = 26;
                }
                else if (barra.value == 27) {
                    output.innerHTML = '27/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB27(); }
                    else if (selectedOperador == 'FGC') { drawFGC27(); }
                    else if (selectedOperador == 'ROD') { drawROD27(); }
                    else if (selectedOperador == 'TB') { drawTB27(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM27(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL27(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS27(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS27(); }
                    counter = 27;
                }
                else if (barra.value == 28) {
                    output.innerHTML = '28/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB28(); }
                    else if (selectedOperador == 'FGC') { drawFGC28(); }
                    else if (selectedOperador == 'ROD') { drawROD28(); }
                    else if (selectedOperador == 'TB') { drawTB28(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM28(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL28(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS28(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS28(); }
                    counter = 28;
                }
                else if (barra.value == 29) {
                    output.innerHTML = '29/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB29(); }
                    else if (selectedOperador == 'FGC') { drawFGC29(); }
                    else if (selectedOperador == 'ROD') { drawROD29(); }
                    else if (selectedOperador == 'TB') { drawTB29(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM29(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL29(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS29(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS29(); }
                    counter = 29;
                }
                else if (barra.value == 30) {
                    output.innerHTML = '30/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB30(); }
                    else if (selectedOperador == 'FGC') { drawFGC30(); }
                    else if (selectedOperador == 'ROD') { drawROD30(); }
                    else if (selectedOperador == 'TB') { drawTB30(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM30(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL30(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS30(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS30(); }
                    counter = 30;
                }
                else if (barra.value == 31) {
                    output.innerHTML = '31/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB31(); }
                    else if (selectedOperador == 'FGC') { drawFGC31(); }
                    else if (selectedOperador == 'ROD') { drawROD31(); }
                    else if (selectedOperador == 'TB') { drawTB31(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM31(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL31(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS31(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS31(); }
                    counter = 31;
                }

            })

            $('#forward').on('click', function () {
                barra.value++;
                if (counter > 31) {
                    barra.value = 1;
                    counter = 1;
                }


                console.log(barra.value);

                if (barra.value == 1) {
                    output.innerHTML = '01/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB1(); }
                    else if (selectedOperador == 'FGC') { drawFGC1(); }
                    else if (selectedOperador == 'ROD') { drawROD1(); }
                    else if (selectedOperador == 'TB') { drawTB1(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM1(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL1(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS1(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS1(); }
                    counter = 1;
                }
                else if (barra.value == 2) {
                    output.innerHTML = '02/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB2(); }
                    else if (selectedOperador == 'FGC') { drawFGC2(); }
                    else if (selectedOperador == 'ROD') { drawROD2(); }
                    else if (selectedOperador == 'TB') { drawTB2(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM2(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL2(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS2(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS2(); }
                    counter = 2;
                }
                else if (barra.value == 3) {
                    output.innerHTML = '03/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB3(); }
                    else if (selectedOperador == 'FGC') { drawFGC3(); }
                    else if (selectedOperador == 'ROD') { drawROD3(); }
                    else if (selectedOperador == 'TB') { drawTB3(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM3(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL3(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS3(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS3(); }
                    counter = 3;
                }
                else if (barra.value == 4) {
                    output.innerHTML = '04/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB4(); }
                    else if (selectedOperador == 'FGC') { drawFGC4(); }
                    else if (selectedOperador == 'ROD') { drawROD4(); }
                    else if (selectedOperador == 'TB') { drawTB4(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM4(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL4(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS4(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS4(); }
                    counter = 4;
                }
                else if (barra.value == 5) {
                    output.innerHTML = '05/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB5(); }
                    else if (selectedOperador == 'FGC') { drawFGC5(); }
                    else if (selectedOperador == 'ROD') { drawROD5(); }
                    else if (selectedOperador == 'TB') { drawTB5(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM5(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL5(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS5(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS5(); }
                    counter = 5;
                }
                else if (barra.value == 6) {
                    output.innerHTML = '06/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB6(); }
                    else if (selectedOperador == 'FGC') { drawFGC6(); }
                    else if (selectedOperador == 'ROD') { drawROD6(); }
                    else if (selectedOperador == 'TB') { drawTB6(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM6(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL6(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS6(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS6(); }
                    counter = 6;
                }
                else if (barra.value == 7) {
                    output.innerHTML = '07/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB7(); }
                    else if (selectedOperador == 'FGC') { drawFGC7(); }
                    else if (selectedOperador == 'ROD') { drawROD7(); }
                    else if (selectedOperador == 'TB') { drawTB7(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM7(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL7(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS7(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS7(); }
                    counter = 7;
                }
                else if (barra.value == 8) {
                    output.innerHTML = '08/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB8(); }
                    else if (selectedOperador == 'FGC') { drawFGC8(); }
                    else if (selectedOperador == 'ROD') { drawROD8(); }
                    else if (selectedOperador == 'TB') { drawTB8(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM8(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL8(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS8(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS8(); }
                    counter = 8;
                }
                else if (barra.value == 9) {
                    output.innerHTML = '09/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB9(); }
                    else if (selectedOperador == 'FGC') { drawFGC9(); }
                    else if (selectedOperador == 'ROD') { drawROD9(); }
                    else if (selectedOperador == 'TB') { drawTB9(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM9(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL9(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS9(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS9(); }
                    counter = 9;
                }
                else if (barra.value == 10) {
                    output.innerHTML = '10/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB10(); }
                    else if (selectedOperador == 'FGC') { drawFGC10(); }
                    else if (selectedOperador == 'ROD') { drawROD10(); }
                    else if (selectedOperador == 'TB') { drawTB10(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM10(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL10(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS10(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS10(); }
                    counter = 10;
                }
                else if (barra.value == 11) {
                    output.innerHTML = '11/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB11(); }
                    else if (selectedOperador == 'FGC') { drawFGC11(); }
                    else if (selectedOperador == 'ROD') { drawROD11(); }
                    else if (selectedOperador == 'TB') { drawTB11(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM11(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL11(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS11(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS11(); }
                    counter = 11;
                }
                else if (barra.value == 12) {
                    output.innerHTML = '12/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB12(); }
                    else if (selectedOperador == 'FGC') { drawFGC12(); }
                    else if (selectedOperador == 'ROD') { drawROD12(); }
                    else if (selectedOperador == 'TB') { drawTB12(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM12(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL12(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS12(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS12(); }
                    counter = 12;
                }
                else if (barra.value == 13) {
                    output.innerHTML = '13/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB13(); }
                    else if (selectedOperador == 'FGC') { drawFGC13(); }
                    else if (selectedOperador == 'ROD') { drawROD7(); }
                    else if (selectedOperador == 'TB') { drawTB13(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM13(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL13(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS13(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS13(); }
                    counter = 13;
                }
                else if (barra.value == 14) {
                    output.innerHTML = '14/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB14(); }
                    else if (selectedOperador == 'FGC') { drawFGC14(); }
                    else if (selectedOperador == 'ROD') { drawROD14(); }
                    else if (selectedOperador == 'TB') { drawTB14(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM14(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL14(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS14(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS14(); }
                    counter = 14;
                }
                else if (barra.value == 15) {
                    output.innerHTML = '15/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB15(); }
                    else if (selectedOperador == 'FGC') { drawFGC15(); }
                    else if (selectedOperador == 'ROD') { drawROD15(); }
                    else if (selectedOperador == 'TB') { drawTB15(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM15(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL15(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS15(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS15(); }
                    counter = 15;
                }
                else if (barra.value == 16) {
                    output.innerHTML = '16/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB16(); }
                    else if (selectedOperador == 'FGC') { drawFGC16(); }
                    else if (selectedOperador == 'ROD') { drawROD16(); }
                    else if (selectedOperador == 'TB') { drawTB16(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM16(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL16(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS16(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS16(); }
                    counter = 16;
                }
                else if (barra.value == 17) {
                    output.innerHTML = '17/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB17(); }
                    else if (selectedOperador == 'FGC') { drawFGC17(); }
                    else if (selectedOperador == 'ROD') { drawROD17(); }
                    else if (selectedOperador == 'TB') { drawTB17(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM17(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL17(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS17(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS17(); }
                    counter = 17;
                }
                else if (barra.value == 18) {
                    output.innerHTML = '18/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB18(); }
                    else if (selectedOperador == 'FGC') { drawFGC18(); }
                    else if (selectedOperador == 'ROD') { drawROD18(); }
                    else if (selectedOperador == 'TB') { drawTB18(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM18(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL18(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS18(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS18(); }
                    counter = 18;
                }
                else if (barra.value == 19) {
                    output.innerHTML = '19/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB19(); }
                    else if (selectedOperador == 'FGC') { drawFGC19(); }
                    else if (selectedOperador == 'ROD') { drawROD19(); }
                    else if (selectedOperador == 'TB') { drawTB19(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM19(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL19(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS19(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS19(); }
                    counter = 19;
                }
                else if (barra.value == 20) {
                    output.innerHTML = '20/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB20(); }
                    else if (selectedOperador == 'FGC') { drawFGC20(); }
                    else if (selectedOperador == 'ROD') { drawROD20(); }
                    else if (selectedOperador == 'TB') { drawTB20(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM20(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL20(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS20(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS20(); }
                    counter = 20;
                }
                else if (barra.value == 21) {
                    output.innerHTML = '21/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB21(); }
                    else if (selectedOperador == 'FGC') { drawFGC21(); }
                    else if (selectedOperador == 'ROD') { drawROD21(); }
                    else if (selectedOperador == 'TB') { drawTB21(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM21(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL21(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS21(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS21(); }
                    counter = 21;
                }
                else if (barra.value == 22) {
                    output.innerHTML = '22/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB22(); }
                    else if (selectedOperador == 'FGC') { drawFGC22(); }
                    else if (selectedOperador == 'ROD') { drawROD22(); }
                    else if (selectedOperador == 'TB') { drawTB22(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM22(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL22(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS22(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS22(); }
                    counter = 22;
                }
                else if (barra.value == 23) {
                    output.innerHTML = '23/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB23(); }
                    else if (selectedOperador == 'FGC') { drawFGC23(); }
                    else if (selectedOperador == 'ROD') { drawROD23(); }
                    else if (selectedOperador == 'TB') { drawTB23(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM23(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL23(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS23(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS23(); }
                    counter = 23;
                }
                else if (barra.value == 24) {
                    output.innerHTML = '24/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB24(); }
                    else if (selectedOperador == 'FGC') { drawFGC24(); }
                    else if (selectedOperador == 'ROD') { drawROD24(); }
                    else if (selectedOperador == 'TB') { drawTB24(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM24(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL24(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS24(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS24(); }
                    counter = 24;
                }
                else if (barra.value == 25) {
                    output.innerHTML = '25/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB25(); }
                    else if (selectedOperador == 'FGC') { drawFGC25(); }
                    else if (selectedOperador == 'ROD') { drawROD25(); }
                    else if (selectedOperador == 'TB') { drawTB25(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM25(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL25(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS25(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS25(); }
                    counter = 25;
                }
                else if (barra.value == 26) {
                    output.innerHTML = '26/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB26(); }
                    else if (selectedOperador == 'FGC') { drawFGC26(); }
                    else if (selectedOperador == 'ROD') { drawROD26(); }
                    else if (selectedOperador == 'TB') { drawTB26(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM26(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL26(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS26(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS26(); }
                    counter = 26;
                }
                else if (barra.value == 27) {
                    output.innerHTML = '27/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB27(); }
                    else if (selectedOperador == 'FGC') { drawFGC27(); }
                    else if (selectedOperador == 'ROD') { drawROD27(); }
                    else if (selectedOperador == 'TB') { drawTB27(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM27(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL27(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS27(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS27(); }
                    counter = 27;
                }
                else if (barra.value == 28) {
                    output.innerHTML = '28/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB28(); }
                    else if (selectedOperador == 'FGC') { drawFGC28(); }
                    else if (selectedOperador == 'ROD') { drawROD28(); }
                    else if (selectedOperador == 'TB') { drawTB28(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM28(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL28(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS28(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS28(); }
                    counter = 28;
                }
                else if (barra.value == 29) {
                    output.innerHTML = '29/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB29(); }
                    else if (selectedOperador == 'FGC') { drawFGC29(); }
                    else if (selectedOperador == 'ROD') { drawROD29(); }
                    else if (selectedOperador == 'TB') { drawTB29(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM29(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL29(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS29(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS29(); }
                    counter = 29;
                }
                else if (barra.value == 30) {
                    output.innerHTML = '30/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB30(); }
                    else if (selectedOperador == 'FGC') { drawFGC30(); }
                    else if (selectedOperador == 'ROD') { drawROD30(); }
                    else if (selectedOperador == 'TB') { drawTB30(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM30(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL30(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS30(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS30(); }
                    counter = 30;
                }
                else if (barra.value == 31) {
                    output.innerHTML = '31/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB31(); }
                    else if (selectedOperador == 'FGC') { drawFGC31(); }
                    else if (selectedOperador == 'ROD') { drawROD31(); }
                    else if (selectedOperador == 'TB') { drawTB31(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM31(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL31(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS31(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS31(); }
                    counter = 31;
                }

            });

            $('#backward').on('click', function () {
                barra.value--;
                if (counter > 31) {
                    barra.value = 1;
                    counter = 1;
                }

                console.log(barra.value);

                if (barra.value == 1) {
                    output.innerHTML = '01/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB1(); }
                    else if (selectedOperador == 'FGC') { drawFGC1(); }
                    else if (selectedOperador == 'ROD') { drawROD1(); }
                    else if (selectedOperador == 'TB') { drawTB1(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM1(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL1(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS1(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS1(); }
                    counter = 1;
                }
                else if (barra.value == 2) {
                    output.innerHTML = '02/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB2(); }
                    else if (selectedOperador == 'FGC') { drawFGC2(); }
                    else if (selectedOperador == 'ROD') { drawROD2(); }
                    else if (selectedOperador == 'TB') { drawTB2(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM2(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL2(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS2(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS2(); }
                    counter = 2;
                }
                else if (barra.value == 3) {
                    output.innerHTML = '03/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB3(); }
                    else if (selectedOperador == 'FGC') { drawFGC3(); }
                    else if (selectedOperador == 'ROD') { drawROD3(); }
                    else if (selectedOperador == 'TB') { drawTB3(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM3(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL3(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS3(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS3(); }
                    counter = 3;
                }
                else if (barra.value == 4) {
                    output.innerHTML = '04/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB4(); }
                    else if (selectedOperador == 'FGC') { drawFGC4(); }
                    else if (selectedOperador == 'ROD') { drawROD4(); }
                    else if (selectedOperador == 'TB') { drawTB4(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM4(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL4(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS4(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS4(); }
                    counter = 4;
                }
                else if (barra.value == 5) {
                    output.innerHTML = '05/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB5(); }
                    else if (selectedOperador == 'FGC') { drawFGC5(); }
                    else if (selectedOperador == 'ROD') { drawROD5(); }
                    else if (selectedOperador == 'TB') { drawTB5(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM5(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL5(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS5(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS5(); }
                    counter = 5;
                }
                else if (barra.value == 6) {
                    output.innerHTML = '06/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB6(); }
                    else if (selectedOperador == 'FGC') { drawFGC6(); }
                    else if (selectedOperador == 'ROD') { drawROD6(); }
                    else if (selectedOperador == 'TB') { drawTB6(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM6(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL6(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS6(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS6(); }
                    counter = 6;
                }
                else if (barra.value == 7) {
                    output.innerHTML = '07/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB7(); }
                    else if (selectedOperador == 'FGC') { drawFGC7(); }
                    else if (selectedOperador == 'ROD') { drawROD7(); }
                    else if (selectedOperador == 'TB') { drawTB7(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM7(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL7(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS7(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS7(); }
                    counter = 7;
                }
                else if (barra.value == 8) {
                    output.innerHTML = '08/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB8(); }
                    else if (selectedOperador == 'FGC') { drawFGC8(); }
                    else if (selectedOperador == 'ROD') { drawROD8(); }
                    else if (selectedOperador == 'TB') { drawTB8(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM8(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL8(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS8(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS8(); }
                    counter = 8;
                }
                else if (barra.value == 9) {
                    output.innerHTML = '09/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB9(); }
                    else if (selectedOperador == 'FGC') { drawFGC9(); }
                    else if (selectedOperador == 'ROD') { drawROD9(); }
                    else if (selectedOperador == 'TB') { drawTB9(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM9(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL9(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS9(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS9(); }
                    counter = 9;
                }
                else if (barra.value == 10) {
                    output.innerHTML = '10/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB10(); }
                    else if (selectedOperador == 'FGC') { drawFGC10(); }
                    else if (selectedOperador == 'ROD') { drawROD10(); }
                    else if (selectedOperador == 'TB') { drawTB10(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM10(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL10(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS10(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS10(); }
                    counter = 10;
                }
                else if (barra.value == 11) {
                    output.innerHTML = '11/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB11(); }
                    else if (selectedOperador == 'FGC') { drawFGC11(); }
                    else if (selectedOperador == 'ROD') { drawROD11(); }
                    else if (selectedOperador == 'TB') { drawTB11(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM11(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL11(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS11(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS11(); }
                    counter = 11;
                }
                else if (barra.value == 12) {
                    output.innerHTML = '12/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB12(); }
                    else if (selectedOperador == 'FGC') { drawFGC12(); }
                    else if (selectedOperador == 'ROD') { drawROD12(); }
                    else if (selectedOperador == 'TB') { drawTB12(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM12(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL12(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS12(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS12(); }
                    counter = 12;
                }
                else if (barra.value == 13) {
                    output.innerHTML = '13/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB13(); }
                    else if (selectedOperador == 'FGC') { drawFGC13(); }
                    else if (selectedOperador == 'ROD') { drawROD7(); }
                    else if (selectedOperador == 'TB') { drawTB13(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM13(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL13(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS13(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS13(); }
                    counter = 13;
                }
                else if (barra.value == 14) {
                    output.innerHTML = '14/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB14(); }
                    else if (selectedOperador == 'FGC') { drawFGC14(); }
                    else if (selectedOperador == 'ROD') { drawROD14(); }
                    else if (selectedOperador == 'TB') { drawTB14(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM14(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL14(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS14(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS14(); }
                    counter = 14;
                }
                else if (barra.value == 15) {
                    output.innerHTML = '15/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB15(); }
                    else if (selectedOperador == 'FGC') { drawFGC15(); }
                    else if (selectedOperador == 'ROD') { drawROD15(); }
                    else if (selectedOperador == 'TB') { drawTB15(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM15(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL15(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS15(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS15(); }
                    counter = 15;
                }
                else if (barra.value == 16) {
                    output.innerHTML = '16/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB16(); }
                    else if (selectedOperador == 'FGC') { drawFGC16(); }
                    else if (selectedOperador == 'ROD') { drawROD16(); }
                    else if (selectedOperador == 'TB') { drawTB16(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM16(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL16(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS16(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS16(); }
                    counter = 16;
                }
                else if (barra.value == 17) {
                    output.innerHTML = '17/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB17(); }
                    else if (selectedOperador == 'FGC') { drawFGC17(); }
                    else if (selectedOperador == 'ROD') { drawROD17(); }
                    else if (selectedOperador == 'TB') { drawTB17(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM17(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL17(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS17(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS17(); }
                    counter = 17;
                }
                else if (barra.value == 18) {
                    output.innerHTML = '18/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB18(); }
                    else if (selectedOperador == 'FGC') { drawFGC18(); }
                    else if (selectedOperador == 'ROD') { drawROD18(); }
                    else if (selectedOperador == 'TB') { drawTB18(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM18(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL18(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS18(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS18(); }
                    counter = 18;
                }
                else if (barra.value == 19) {
                    output.innerHTML = '19/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB19(); }
                    else if (selectedOperador == 'FGC') { drawFGC19(); }
                    else if (selectedOperador == 'ROD') { drawROD19(); }
                    else if (selectedOperador == 'TB') { drawTB19(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM19(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL19(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS19(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS19(); }
                    counter = 19;
                }
                else if (barra.value == 20) {
                    output.innerHTML = '20/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB20(); }
                    else if (selectedOperador == 'FGC') { drawFGC20(); }
                    else if (selectedOperador == 'ROD') { drawROD20(); }
                    else if (selectedOperador == 'TB') { drawTB20(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM20(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL20(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS20(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS20(); }
                    counter = 20;
                }
                else if (barra.value == 21) {
                    output.innerHTML = '21/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB21(); }
                    else if (selectedOperador == 'FGC') { drawFGC21(); }
                    else if (selectedOperador == 'ROD') { drawROD21(); }
                    else if (selectedOperador == 'TB') { drawTB21(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM21(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL21(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS21(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS21(); }
                    counter = 21;
                }
                else if (barra.value == 22) {
                    output.innerHTML = '22/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB22(); }
                    else if (selectedOperador == 'FGC') { drawFGC22(); }
                    else if (selectedOperador == 'ROD') { drawROD22(); }
                    else if (selectedOperador == 'TB') { drawTB22(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM22(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL22(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS22(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS22(); }
                    counter = 22;
                }
                else if (barra.value == 23) {
                    output.innerHTML = '23/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB23(); }
                    else if (selectedOperador == 'FGC') { drawFGC23(); }
                    else if (selectedOperador == 'ROD') { drawROD23(); }
                    else if (selectedOperador == 'TB') { drawTB23(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM23(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL23(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS23(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS23(); }
                    counter = 23;
                }
                else if (barra.value == 24) {
                    output.innerHTML = '24/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB24(); }
                    else if (selectedOperador == 'FGC') { drawFGC24(); }
                    else if (selectedOperador == 'ROD') { drawROD24(); }
                    else if (selectedOperador == 'TB') { drawTB24(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM24(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL24(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS24(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS24(); }
                    counter = 24;
                }
                else if (barra.value == 25) {
                    output.innerHTML = '25/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB25(); }
                    else if (selectedOperador == 'FGC') { drawFGC25(); }
                    else if (selectedOperador == 'ROD') { drawROD25(); }
                    else if (selectedOperador == 'TB') { drawTB25(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM25(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL25(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS25(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS25(); }
                    counter = 25;
                }
                else if (barra.value == 26) {
                    output.innerHTML = '26/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB26(); }
                    else if (selectedOperador == 'FGC') { drawFGC26(); }
                    else if (selectedOperador == 'ROD') { drawROD26(); }
                    else if (selectedOperador == 'TB') { drawTB26(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM26(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL26(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS26(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS26(); }
                    counter = 26;
                }
                else if (barra.value == 27) {
                    output.innerHTML = '27/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB27(); }
                    else if (selectedOperador == 'FGC') { drawFGC27(); }
                    else if (selectedOperador == 'ROD') { drawROD27(); }
                    else if (selectedOperador == 'TB') { drawTB27(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM27(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL27(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS27(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS27(); }
                    counter = 27;
                }
                else if (barra.value == 28) {
                    output.innerHTML = '28/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB28(); }
                    else if (selectedOperador == 'FGC') { drawFGC28(); }
                    else if (selectedOperador == 'ROD') { drawROD28(); }
                    else if (selectedOperador == 'TB') { drawTB28(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM28(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL28(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS28(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS28(); }
                    counter = 28;
                }
                else if (barra.value == 29) {
                    output.innerHTML = '29/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB29(); }
                    else if (selectedOperador == 'FGC') { drawFGC29(); }
                    else if (selectedOperador == 'ROD') { drawROD29(); }
                    else if (selectedOperador == 'TB') { drawTB29(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM29(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL29(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS29(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS29(); }
                    counter = 29;
                }
                else if (barra.value == 30) {
                    output.innerHTML = '30/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB30(); }
                    else if (selectedOperador == 'FGC') { drawFGC30(); }
                    else if (selectedOperador == 'ROD') { drawROD30(); }
                    else if (selectedOperador == 'TB') { drawTB30(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM30(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL30(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS30(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS30(); }
                    counter = 30;
                }
                else if (barra.value == 31) {
                    output.innerHTML = '31/01/2022';
                    neteja();
                    if (selectedOperador == 'FMB') { drawTMB31(); }
                    else if (selectedOperador == 'FGC') { drawFGC31(); }
                    else if (selectedOperador == 'ROD') { drawROD31(); }
                    else if (selectedOperador == 'TB') { drawTB31(); }
                    else if (selectedOperador == 'TRAM') { drawTRAM31(); }
                    else if (selectedOperador == 'TUSGSAL') { drawTUSGSAL31(); }
                    else if (selectedOperador == 'BAIXBUS') { drawBAIXBUS31(); }
                    else if (selectedOperador == 'NITBUS') { drawNITBUS31(); }
                    counter = 31;
                }

            });

            //Paletes de colors

            //Metro
            function getColorFMB(d) {
                return d == 'L11' ? '#89B94C' :
                    d == 'L10S' ? '#00A6D6' :
                        d == 'L10N' ? '#00A6D6' :
                            d == 'L9N' ? '#FB712B' :
                                d == 'L9S' ? '#FB712B' :
                                    d == 'L5' ? '#005A97' :
                                        d == 'L4' ? '#F7A30E' :
                                            d == 'L3' ? '#1EB53A' :
                                                d == 'L2' ? '#93248F' :
                                                    d == 'L1' ? '#CE1126' :
                                                        '#ffffff';
            }

            //FGC
            function getColorFGC(d) {
                return d == 'MM' ? '#000000' :
                    d == 'R50' ? '#00738a' :
                        d == 'FV' ? '#0A57A3' :
                            d == 'R5' ? '#3dbfc3' :
                                d == 'R53' ? '#3dbfc3' :
                                    d == 'S8' ? '#49C0DE' :
                                        d == 'S3' ? '#4F868E' :
                                            d == 'ES' ? '#5A5858' :
                                                d == 'R60' ? '#5b5b5b' :
                                                    d == 'S5' ? '#5B8FCB' :
                                                        d == 'S5S' ? '#5B8FCB' :
                                                            d == 'L6' ? '#797FBC' :
                                                                d == 'S2' ? '#88BB0B' :
                                                                    d == 'S7' ? '#9B2743' :
                                                                        d == 'S4' ? '#A78600' :
                                                                            d == 'L7' ? '#B2600B' :
                                                                                d == 'L12' ? '#b2aed3' :
                                                                                    d == 'R6' ? '#b3b3b3' :
                                                                                        d == 'R63' ? '#b3b3b3' :
                                                                                            d == 'S9' ? '#DF4661' :
                                                                                                d == 'L8' ? '#E274AA' :
                                                                                                    d == 'S6' ? '#E40046' :
                                                                                                        d == 'S1' ? '#EF7900' :
                                                                                                            '#ffffff';
            }

            //FGC
            function getColorROD(d) {
                return d == 'R8' ? '#88006a' :
                    d == 'R7' ? '#b57bba' :
                        d == 'R4' ? '#f6a30d' :
                            d == 'R3' ? '#ea412b' :
                                d == 'R2S' ? '#136524' :
                                    d == 'R2N' ? '#d0de00' :
                                        d == 'R2' ? '#26a741' :
                                            d == 'R1' ? '#7dbcec' :
                                                '#ffffff';
            }

            //Rangs de valors per la tematització

            //Tamany del Radi
            function getRadius(d) {
                return d > 2500 ? '22' :
                    d > 2000 ? '20' :
                        d > 1500 ? '18' :
                            d > 1000 ? '16' :
                                d > 750 ? '14' :
                                    d > 500 ? '12' :
                                        d > 400 ? '11' :
                                            d > 300 ? '10' :
                                                d > 250 ? '9' :
                                                    d > 200 ? '8' :
                                                        d > 150 ? '7' :
                                                            d > 100 ? '6' :
                                                                d > 50 ? '5' :
                                                                    d > 20 ? '4' :
                                                                        d > 10 ? '3' :
                                                                            d > 5 ? '2' :
                                                                                '1';
            }

            //Opacitat
            function getOpacity(d) {
                return d > 1000 ? '1' :
                    d > 500 ? '0.9' :
                        d > 250 ? '0.8' :
                            d > 200 ? '0.7' :
                                d > 150 ? '0.6' :
                                    d > 100 ? '0.5' :
                                        d > 50 ? '0.4' :
                                            d > 20 ? '0.3' :
                                                d > 10 ? '0.25' :
                                                    d > 5 ? '0.15' :
                                                        '0.05';
            }

            //Amplada de la linia
            function getWeight(d) {
                return d > 2500 ? '6' :
                    d > 1500 ? '5' :
                        d > 1000 ? '4' :
                            d > 500 ? '3' :
                                d > 200 ? '2.5' :
                                    d > 100 ? '2' :
                                        d > 50 ? '1.5' :
                                            d > 25 ? '1' :
                                                d > 10 ? '0.5' :
                                                    d > 1 ? '0.25' :
                                                        '0.1';
            }

            //Estils

            function style(feature) {
                return {
                    weight: 1,
                    color: 'white',
                    dashArray: '',
                    fillOpacity: 0
                };
            }

            function style_line_FMB(feature) {
                return {
                    weight: 2.5,
                    opacity: 1,
                    color: getColorFMB(feature.properties.routes_rou),
                    dashArray: '',
                    fillOpacity: 1,
                };
            }

            function style_line_FGC(feature) {
                return {
                    weight: 2.5,
                    opacity: 1,
                    color: getColorFGC(feature.properties.routes_rou),
                    dashArray: '',
                    fillOpacity: 1,
                };
            }

            function style_line_ROD(feature) {
                return {
                    weight: 2.5,
                    opacity: 1,
                    color: getColorROD(feature.properties.routes_rou),
                    dashArray: '',
                    fillOpacity: 1,
                };
            }

            //ressaltem el contorn dels poligons al fer hover
            //parades
            function highlightFeature(e) {
                var layer = e.target;

                layer.setStyle({
                    weight: 3,
                    color: 'white',
                    dashArray: '',
                    fillOpacity: 0
                });

                if (!L.Browser.ie && !L.Browser.opera && !L.Browser.edge) {
                    layer.bringToFront();
                }
            }
            //línies
            function highlightFeatureL(e) {
                var layer = e.target;

                layer.setStyle({
                    weight: 5,

                });

                if (!L.Browser.ie && !L.Browser.opera && !L.Browser.edge) {
                    layer.bringToFront();
                }
            }

            //restablim el contorn al fer mouseout

            function resetHighlight(e) {
                var layer = e.target;

                layer.setStyle({
                    weight: 1,
                    color: 'white',
                    dashArray: '',
                    fillOpacity: 0
                });
            }

            function resetHighlightL(e) {
                var layer = e.target;

                layer.setStyle({
                    weight: 2.5,

                });
                layer.bringToBack();
            }

            //zoom als elements del mapa al clicar

            function zoomToFeature(e) {
                mymap.flyToBounds(e.target.getBounds());
            }

            function zoomToFeature2(e) {

                mymap.flyTo(e.latlng, 16);
            }



            //Tooltips amb informació de validacions al fer mouseover 

            function onEachFeature(feature, layer) {

                if (barra.value == 1) {
                    layer.bindTooltip("<h5 class='infoHeader'><strong>" + feature.properties.stop_name + "<br><br> Validacions: " + feature.properties.v1 + "<br><br><img class='line' src='" + feature.properties.logo + "'>&nbsp<img class='line' src='" + feature.properties.logo2 + "'>&nbsp<img class='line' src='" + feature.properties.logo3 + "'>&nbsp<img class='line' src='" + feature.properties.logo4 + "'>&nbsp<img class='line' src='" + feature.properties.logo5 + "'>&nbsp<img class='line' src='" + feature.properties.logo6 + "'>&nbsp<img class='line' src='" + feature.properties.logo7 + "'>&nbsp<img class='line' src='" + feature.properties.logo8 + "'>&nbsp<img class='line' src='" + feature.properties.logo9 + "'>&nbsp&nbsp&nbsp&nbsp&nbsp<img class='line' src='" + feature.properties.link + "'>&nbsp<img class='line' src='" + feature.properties.link2 + "'></h5>");
                }
                else if (barra.value == 2) {
                    layer.bindTooltip("<h5 class='infoHeader'><strong>" + feature.properties.stop_name + "<br><br> Validacions: " + feature.properties.v2 + "<br><br><img class='line' src='" + feature.properties.logo + "'>&nbsp<img class='line' src='" + feature.properties.logo2 + "'>&nbsp<img class='line' src='" + feature.properties.logo3 + "'>&nbsp<img class='line' src='" + feature.properties.logo4 + "'>&nbsp<img class='line' src='" + feature.properties.logo5 + "'>&nbsp<img class='line' src='" + feature.properties.logo6 + "'>&nbsp<img class='line' src='" + feature.properties.logo7 + "'>&nbsp<img class='line' src='" + feature.properties.logo8 + "'>&nbsp<img class='line' src='" + feature.properties.logo9 + "'>&nbsp&nbsp&nbsp&nbsp&nbsp<img class='line' src='" + feature.properties.link + "'>&nbsp<img class='line' src='" + feature.properties.link2 + "'></h5>");
                }
                else if (barra.value == 3) {
                    layer.bindTooltip("<h5 class='infoHeader'><strong>" + feature.properties.stop_name + "<br><br> Validacions: " + feature.properties.v3 + "<br><br><img class='line' src='" + feature.properties.logo + "'>&nbsp<img class='line' src='" + feature.properties.logo2 + "'>&nbsp<img class='line' src='" + feature.properties.logo3 + "'>&nbsp<img class='line' src='" + feature.properties.logo4 + "'>&nbsp<img class='line' src='" + feature.properties.logo5 + "'>&nbsp<img class='line' src='" + feature.properties.logo6 + "'>&nbsp<img class='line' src='" + feature.properties.logo7 + "'>&nbsp<img class='line' src='" + feature.properties.logo8 + "'>&nbsp<img class='line' src='" + feature.properties.logo9 + "'>&nbsp&nbsp&nbsp&nbsp&nbsp<img class='line' src='" + feature.properties.link + "'>&nbsp<img class='line' src='" + feature.properties.link2 + "'></h5>");
                }
                else if (barra.value == 4) {
                    layer.bindTooltip("<h5 class='infoHeader'><strong>" + feature.properties.stop_name + "<br><br> Validacions: " + feature.properties.v4 + "<br><br><img class='line' src='" + feature.properties.logo + "'>&nbsp<img class='line' src='" + feature.properties.logo2 + "'>&nbsp<img class='line' src='" + feature.properties.logo3 + "'>&nbsp<img class='line' src='" + feature.properties.logo4 + "'>&nbsp<img class='line' src='" + feature.properties.logo5 + "'>&nbsp<img class='line' src='" + feature.properties.logo6 + "'>&nbsp<img class='line' src='" + feature.properties.logo7 + "'>&nbsp<img class='line' src='" + feature.properties.logo8 + "'>&nbsp<img class='line' src='" + feature.properties.logo9 + "'>&nbsp&nbsp&nbsp&nbsp&nbsp<img class='line' src='" + feature.properties.link + "'>&nbsp<img class='line' src='" + feature.properties.link2 + "'></h5>");
                }
                else if (barra.value == 5) {
                    layer.bindTooltip("<h5 class='infoHeader'><strong>" + feature.properties.stop_name + "<br><br> Validacions: " + feature.properties.v5 + "<br><br><img class='line' src='" + feature.properties.logo + "'>&nbsp<img class='line' src='" + feature.properties.logo2 + "'>&nbsp<img class='line' src='" + feature.properties.logo3 + "'>&nbsp<img class='line' src='" + feature.properties.logo4 + "'>&nbsp<img class='line' src='" + feature.properties.logo5 + "'>&nbsp<img class='line' src='" + feature.properties.logo6 + "'>&nbsp<img class='line' src='" + feature.properties.logo7 + "'>&nbsp<img class='line' src='" + feature.properties.logo8 + "'>&nbsp<img class='line' src='" + feature.properties.logo9 + "'>&nbsp&nbsp&nbsp&nbsp&nbsp<img class='line' src='" + feature.properties.link + "'>&nbsp<img class='line' src='" + feature.properties.link2 + "'></h5>");
                }
                else if (barra.value == 6) {
                    layer.bindTooltip("<h5 class='infoHeader'><strong>" + feature.properties.stop_name + "<br><br> Validacions: " + feature.properties.v6 + "<br><br><img class='line' src='" + feature.properties.logo + "'>&nbsp<img class='line' src='" + feature.properties.logo2 + "'>&nbsp<img class='line' src='" + feature.properties.logo3 + "'>&nbsp<img class='line' src='" + feature.properties.logo4 + "'>&nbsp<img class='line' src='" + feature.properties.logo5 + "'>&nbsp<img class='line' src='" + feature.properties.logo6 + "'>&nbsp<img class='line' src='" + feature.properties.logo7 + "'>&nbsp<img class='line' src='" + feature.properties.logo8 + "'>&nbsp<img class='line' src='" + feature.properties.logo9 + "'>&nbsp&nbsp&nbsp&nbsp&nbsp<img class='line' src='" + feature.properties.link + "'>&nbsp<img class='line' src='" + feature.properties.link2 + "'></h5>");
                }
                else if (barra.value == 7) {
                    layer.bindTooltip("<h5 class='infoHeader'><strong>" + feature.properties.stop_name + "<br><br> Validacions: " + feature.properties.v7 + "<br><br><img class='line' src='" + feature.properties.logo + "'>&nbsp<img class='line' src='" + feature.properties.logo2 + "'>&nbsp<img class='line' src='" + feature.properties.logo3 + "'>&nbsp<img class='line' src='" + feature.properties.logo4 + "'>&nbsp<img class='line' src='" + feature.properties.logo5 + "'>&nbsp<img class='line' src='" + feature.properties.logo6 + "'>&nbsp<img class='line' src='" + feature.properties.logo7 + "'>&nbsp<img class='line' src='" + feature.properties.logo8 + "'>&nbsp<img class='line' src='" + feature.properties.logo9 + "'>&nbsp&nbsp&nbsp&nbsp&nbsp<img class='line' src='" + feature.properties.link + "'>&nbsp<img class='line' src='" + feature.properties.link2 + "'></h5>");
                }
                else if (barra.value == 8) {
                    layer.bindTooltip("<h5 class='infoHeader'><strong>" + feature.properties.stop_name + "<br><br> Validacions: " + feature.properties.v8 + "<br><br><img class='line' src='" + feature.properties.logo + "'>&nbsp<img class='line' src='" + feature.properties.logo2 + "'>&nbsp<img class='line' src='" + feature.properties.logo3 + "'>&nbsp<img class='line' src='" + feature.properties.logo4 + "'>&nbsp<img class='line' src='" + feature.properties.logo5 + "'>&nbsp<img class='line' src='" + feature.properties.logo6 + "'>&nbsp<img class='line' src='" + feature.properties.logo7 + "'>&nbsp<img class='line' src='" + feature.properties.logo8 + "'>&nbsp<img class='line' src='" + feature.properties.logo9 + "'>&nbsp&nbsp&nbsp&nbsp&nbsp<img class='line' src='" + feature.properties.link + "'>&nbsp<img class='line' src='" + feature.properties.link2 + "'></h5>");
                }
                else if (barra.value == 9) {
                    layer.bindTooltip("<h5 class='infoHeader'><strong>" + feature.properties.stop_name + "<br><br> Validacions: " + feature.properties.v9 + "<br><br><img class='line' src='" + feature.properties.logo + "'>&nbsp<img class='line' src='" + feature.properties.logo2 + "'>&nbsp<img class='line' src='" + feature.properties.logo3 + "'>&nbsp<img class='line' src='" + feature.properties.logo4 + "'>&nbsp<img class='line' src='" + feature.properties.logo5 + "'>&nbsp<img class='line' src='" + feature.properties.logo6 + "'>&nbsp<img class='line' src='" + feature.properties.logo7 + "'>&nbsp<img class='line' src='" + feature.properties.logo8 + "'>&nbsp<img class='line' src='" + feature.properties.logo9 + "'>&nbsp&nbsp&nbsp&nbsp&nbsp<img class='line' src='" + feature.properties.link + "'>&nbsp<img class='line' src='" + feature.properties.link2 + "'></h5>");
                }
                else if (barra.value == 10) {
                    layer.bindTooltip("<h5 class='infoHeader'><strong>" + feature.properties.stop_name + "<br><br> Validacions: " + feature.properties.v10 + "<br><br><img class='line' src='" + feature.properties.logo + "'>&nbsp<img class='line' src='" + feature.properties.logo2 + "'>&nbsp<img class='line' src='" + feature.properties.logo3 + "'>&nbsp<img class='line' src='" + feature.properties.logo4 + "'>&nbsp<img class='line' src='" + feature.properties.logo5 + "'>&nbsp<img class='line' src='" + feature.properties.logo6 + "'>&nbsp<img class='line' src='" + feature.properties.logo7 + "'>&nbsp<img class='line' src='" + feature.properties.logo8 + "'>&nbsp<img class='line' src='" + feature.properties.logo9 + "'>&nbsp&nbsp&nbsp&nbsp&nbsp<img class='line' src='" + feature.properties.link + "'>&nbsp<img class='line' src='" + feature.properties.link2 + "'></h5>");
                }
                else if (barra.value == 11) {
                    layer.bindTooltip("<h5 class='infoHeader'><strong>" + feature.properties.stop_name + "<br><br> Validacions: " + feature.properties.v11 + "<br><br><img class='line' src='" + feature.properties.logo + "'>&nbsp<img class='line' src='" + feature.properties.logo2 + "'>&nbsp<img class='line' src='" + feature.properties.logo3 + "'>&nbsp<img class='line' src='" + feature.properties.logo4 + "'>&nbsp<img class='line' src='" + feature.properties.logo5 + "'>&nbsp<img class='line' src='" + feature.properties.logo6 + "'>&nbsp<img class='line' src='" + feature.properties.logo7 + "'>&nbsp<img class='line' src='" + feature.properties.logo8 + "'>&nbsp<img class='line' src='" + feature.properties.logo9 + "'>&nbsp&nbsp&nbsp&nbsp&nbsp<img class='line' src='" + feature.properties.link + "'>&nbsp<img class='line' src='" + feature.properties.link2 + "'></h5>");
                }
                else if (barra.value == 12) {
                    layer.bindTooltip("<h5 class='infoHeader'><strong>" + feature.properties.stop_name + "<br><br> Validacions: " + feature.properties.v12 + "<br><br><img class='line' src='" + feature.properties.logo + "'>&nbsp<img class='line' src='" + feature.properties.logo2 + "'>&nbsp<img class='line' src='" + feature.properties.logo3 + "'>&nbsp<img class='line' src='" + feature.properties.logo4 + "'>&nbsp<img class='line' src='" + feature.properties.logo5 + "'>&nbsp<img class='line' src='" + feature.properties.logo6 + "'>&nbsp<img class='line' src='" + feature.properties.logo7 + "'>&nbsp<img class='line' src='" + feature.properties.logo8 + "'>&nbsp<img class='line' src='" + feature.properties.logo9 + "'>&nbsp&nbsp&nbsp&nbsp&nbsp<img class='line' src='" + feature.properties.link + "'>&nbsp<img class='line' src='" + feature.properties.link2 + "'></h5>");
                }
                else if (barra.value == 13) {
                    layer.bindTooltip("<h5 class='infoHeader'><strong>" + feature.properties.stop_name + "<br><br> Validacions: " + feature.properties.v13 + "<br><br><img class='line' src='" + feature.properties.logo + "'>&nbsp<img class='line' src='" + feature.properties.logo2 + "'>&nbsp<img class='line' src='" + feature.properties.logo3 + "'>&nbsp<img class='line' src='" + feature.properties.logo4 + "'>&nbsp<img class='line' src='" + feature.properties.logo5 + "'>&nbsp<img class='line' src='" + feature.properties.logo6 + "'>&nbsp<img class='line' src='" + feature.properties.logo7 + "'>&nbsp<img class='line' src='" + feature.properties.logo8 + "'>&nbsp<img class='line' src='" + feature.properties.logo9 + "'>&nbsp&nbsp&nbsp&nbsp&nbsp<img class='line' src='" + feature.properties.link + "'>&nbsp<img class='line' src='" + feature.properties.link2 + "'></h5>");
                }
                else if (barra.value == 14) {
                    layer.bindTooltip("<h5 class='infoHeader'><strong>" + feature.properties.stop_name + "<br><br> Validacions: " + feature.properties.v14 + "<br><br><img class='line' src='" + feature.properties.logo + "'>&nbsp<img class='line' src='" + feature.properties.logo2 + "'>&nbsp<img class='line' src='" + feature.properties.logo3 + "'>&nbsp<img class='line' src='" + feature.properties.logo4 + "'>&nbsp<img class='line' src='" + feature.properties.logo5 + "'>&nbsp<img class='line' src='" + feature.properties.logo6 + "'>&nbsp<img class='line' src='" + feature.properties.logo7 + "'>&nbsp<img class='line' src='" + feature.properties.logo8 + "'>&nbsp<img class='line' src='" + feature.properties.logo9 + "'>&nbsp&nbsp&nbsp&nbsp&nbsp<img class='line' src='" + feature.properties.link + "'>&nbsp<img class='line' src='" + feature.properties.link2 + "'></h5>");
                }
                else if (barra.value == 15) {
                    layer.bindTooltip("<h5 class='infoHeader'><strong>" + feature.properties.stop_name + "<br><br> Validacions: " + feature.properties.v15 + "<br><br><img class='line' src='" + feature.properties.logo + "'>&nbsp<img class='line' src='" + feature.properties.logo2 + "'>&nbsp<img class='line' src='" + feature.properties.logo3 + "'>&nbsp<img class='line' src='" + feature.properties.logo4 + "'>&nbsp<img class='line' src='" + feature.properties.logo5 + "'>&nbsp<img class='line' src='" + feature.properties.logo6 + "'>&nbsp<img class='line' src='" + feature.properties.logo7 + "'>&nbsp<img class='line' src='" + feature.properties.logo8 + "'>&nbsp<img class='line' src='" + feature.properties.logo9 + "'>&nbsp&nbsp&nbsp&nbsp&nbsp<img class='line' src='" + feature.properties.link + "'>&nbsp<img class='line' src='" + feature.properties.link2 + "'></h5>");
                }
                else if (barra.value == 16) {
                    layer.bindTooltip("<h5 class='infoHeader'><strong>" + feature.properties.stop_name + "<br><br> Validacions: " + feature.properties.v16 + "<br><br><img class='line' src='" + feature.properties.logo + "'>&nbsp<img class='line' src='" + feature.properties.logo2 + "'>&nbsp<img class='line' src='" + feature.properties.logo3 + "'>&nbsp<img class='line' src='" + feature.properties.logo4 + "'>&nbsp<img class='line' src='" + feature.properties.logo5 + "'>&nbsp<img class='line' src='" + feature.properties.logo6 + "'>&nbsp<img class='line' src='" + feature.properties.logo7 + "'>&nbsp<img class='line' src='" + feature.properties.logo8 + "'>&nbsp<img class='line' src='" + feature.properties.logo9 + "'>&nbsp&nbsp&nbsp&nbsp&nbsp<img class='line' src='" + feature.properties.link + "'>&nbsp<img class='line' src='" + feature.properties.link2 + "'></h5>");
                }
                else if (barra.value == 17) {
                    layer.bindTooltip("<h5 class='infoHeader'><strong>" + feature.properties.stop_name + "<br><br> Validacions: " + feature.properties.v17 + "<br><br><img class='line' src='" + feature.properties.logo + "'>&nbsp<img class='line' src='" + feature.properties.logo2 + "'>&nbsp<img class='line' src='" + feature.properties.logo3 + "'>&nbsp<img class='line' src='" + feature.properties.logo4 + "'>&nbsp<img class='line' src='" + feature.properties.logo5 + "'>&nbsp<img class='line' src='" + feature.properties.logo6 + "'>&nbsp<img class='line' src='" + feature.properties.logo7 + "'>&nbsp<img class='line' src='" + feature.properties.logo8 + "'>&nbsp<img class='line' src='" + feature.properties.logo9 + "'>&nbsp&nbsp&nbsp&nbsp&nbsp<img class='line' src='" + feature.properties.link + "'>&nbsp<img class='line' src='" + feature.properties.link2 + "'></h5>");
                }
                else if (barra.value == 18) {
                    layer.bindTooltip("<h5 class='infoHeader'><strong>" + feature.properties.stop_name + "<br><br> Validacions: " + feature.properties.v18 + "<br><br><img class='line' src='" + feature.properties.logo + "'>&nbsp<img class='line' src='" + feature.properties.logo2 + "'>&nbsp<img class='line' src='" + feature.properties.logo3 + "'>&nbsp<img class='line' src='" + feature.properties.logo4 + "'>&nbsp<img class='line' src='" + feature.properties.logo5 + "'>&nbsp<img class='line' src='" + feature.properties.logo6 + "'>&nbsp<img class='line' src='" + feature.properties.logo7 + "'>&nbsp<img class='line' src='" + feature.properties.logo8 + "'>&nbsp<img class='line' src='" + feature.properties.logo9 + "'>&nbsp&nbsp&nbsp&nbsp&nbsp<img class='line' src='" + feature.properties.link + "'>&nbsp<img class='line' src='" + feature.properties.link2 + "'></h5>");
                }
                else if (barra.value == 19) {
                    layer.bindTooltip("<h5 class='infoHeader'><strong>" + feature.properties.stop_name + "<br><br> Validacions: " + feature.properties.v19 + "<br><br><img class='line' src='" + feature.properties.logo + "'>&nbsp<img class='line' src='" + feature.properties.logo2 + "'>&nbsp<img class='line' src='" + feature.properties.logo3 + "'>&nbsp<img class='line' src='" + feature.properties.logo4 + "'>&nbsp<img class='line' src='" + feature.properties.logo5 + "'>&nbsp<img class='line' src='" + feature.properties.logo6 + "'>&nbsp<img class='line' src='" + feature.properties.logo7 + "'>&nbsp<img class='line' src='" + feature.properties.logo8 + "'>&nbsp<img class='line' src='" + feature.properties.logo9 + "'>&nbsp&nbsp&nbsp&nbsp&nbsp<img class='line' src='" + feature.properties.link + "'>&nbsp<img class='line' src='" + feature.properties.link2 + "'></h5>");
                }
                else if (barra.value == 20) {
                    layer.bindTooltip("<h5 class='infoHeader'><strong>" + feature.properties.stop_name + "<br><br> Validacions: " + feature.properties.v20 + "<br><br><img class='line' src='" + feature.properties.logo + "'>&nbsp<img class='line' src='" + feature.properties.logo2 + "'>&nbsp<img class='line' src='" + feature.properties.logo3 + "'>&nbsp<img class='line' src='" + feature.properties.logo4 + "'>&nbsp<img class='line' src='" + feature.properties.logo5 + "'>&nbsp<img class='line' src='" + feature.properties.logo6 + "'>&nbsp<img class='line' src='" + feature.properties.logo7 + "'>&nbsp<img class='line' src='" + feature.properties.logo8 + "'>&nbsp<img class='line' src='" + feature.properties.logo9 + "'>&nbsp&nbsp&nbsp&nbsp&nbsp<img class='line' src='" + feature.properties.link + "'>&nbsp<img class='line' src='" + feature.properties.link2 + "'></h5>");
                }
                else if (barra.value == 21) {
                    layer.bindTooltip("<h5 class='infoHeader'><strong>" + feature.properties.stop_name + "<br><br> Validacions: " + feature.properties.v21 + "<br><br><img class='line' src='" + feature.properties.logo + "'>&nbsp<img class='line' src='" + feature.properties.logo2 + "'>&nbsp<img class='line' src='" + feature.properties.logo3 + "'>&nbsp<img class='line' src='" + feature.properties.logo4 + "'>&nbsp<img class='line' src='" + feature.properties.logo5 + "'>&nbsp<img class='line' src='" + feature.properties.logo6 + "'>&nbsp<img class='line' src='" + feature.properties.logo7 + "'>&nbsp<img class='line' src='" + feature.properties.logo8 + "'>&nbsp<img class='line' src='" + feature.properties.logo9 + "'>&nbsp&nbsp&nbsp&nbsp&nbsp<img class='line' src='" + feature.properties.link + "'>&nbsp<img class='line' src='" + feature.properties.link2 + "'></h5>");
                }
                else if (barra.value == 22) {
                    layer.bindTooltip("<h5 class='infoHeader'><strong>" + feature.properties.stop_name + "<br><br> Validacions: " + feature.properties.v22 + "<br><br><img class='line' src='" + feature.properties.logo + "'>&nbsp<img class='line' src='" + feature.properties.logo2 + "'>&nbsp<img class='line' src='" + feature.properties.logo3 + "'>&nbsp<img class='line' src='" + feature.properties.logo4 + "'>&nbsp<img class='line' src='" + feature.properties.logo5 + "'>&nbsp<img class='line' src='" + feature.properties.logo6 + "'>&nbsp<img class='line' src='" + feature.properties.logo7 + "'>&nbsp<img class='line' src='" + feature.properties.logo8 + "'>&nbsp<img class='line' src='" + feature.properties.logo9 + "'>&nbsp&nbsp&nbsp&nbsp&nbsp<img class='line' src='" + feature.properties.link + "'>&nbsp<img class='line' src='" + feature.properties.link2 + "'></h5>");
                }
                else if (barra.value == 23) {
                    layer.bindTooltip("<h5 class='infoHeader'><strong>" + feature.properties.stop_name + "<br><br> Validacions: " + feature.properties.v23 + "<br><br><img class='line' src='" + feature.properties.logo + "'>&nbsp<img class='line' src='" + feature.properties.logo2 + "'>&nbsp<img class='line' src='" + feature.properties.logo3 + "'>&nbsp<img class='line' src='" + feature.properties.logo4 + "'>&nbsp<img class='line' src='" + feature.properties.logo5 + "'>&nbsp<img class='line' src='" + feature.properties.logo6 + "'>&nbsp<img class='line' src='" + feature.properties.logo7 + "'>&nbsp<img class='line' src='" + feature.properties.logo8 + "'>&nbsp<img class='line' src='" + feature.properties.logo9 + "'>&nbsp&nbsp&nbsp&nbsp&nbsp<img class='line' src='" + feature.properties.link + "'>&nbsp<img class='line' src='" + feature.properties.link2 + "'></h5>");
                }
                else if (barra.value == 24) {
                    layer.bindTooltip("<h5 class='infoHeader'><strong>" + feature.properties.stop_name + "<br><br> Validacions: " + feature.properties.v24 + "<br><br><img class='line' src='" + feature.properties.logo + "'>&nbsp<img class='line' src='" + feature.properties.logo2 + "'>&nbsp<img class='line' src='" + feature.properties.logo3 + "'>&nbsp<img class='line' src='" + feature.properties.logo4 + "'>&nbsp<img class='line' src='" + feature.properties.logo5 + "'>&nbsp<img class='line' src='" + feature.properties.logo6 + "'>&nbsp<img class='line' src='" + feature.properties.logo7 + "'>&nbsp<img class='line' src='" + feature.properties.logo8 + "'>&nbsp<img class='line' src='" + feature.properties.logo9 + "'>&nbsp&nbsp&nbsp&nbsp&nbsp<img class='line' src='" + feature.properties.link + "'>&nbsp<img class='line' src='" + feature.properties.link2 + "'></h5>");
                }
                else if (barra.value == 25) {
                    layer.bindTooltip("<h5 class='infoHeader'><strong>" + feature.properties.stop_name + "<br><br> Validacions: " + feature.properties.v25 + "<br><br><img class='line' src='" + feature.properties.logo + "'>&nbsp<img class='line' src='" + feature.properties.logo2 + "'>&nbsp<img class='line' src='" + feature.properties.logo3 + "'>&nbsp<img class='line' src='" + feature.properties.logo4 + "'>&nbsp<img class='line' src='" + feature.properties.logo5 + "'>&nbsp<img class='line' src='" + feature.properties.logo6 + "'>&nbsp<img class='line' src='" + feature.properties.logo7 + "'>&nbsp<img class='line' src='" + feature.properties.logo8 + "'>&nbsp<img class='line' src='" + feature.properties.logo9 + "'>&nbsp&nbsp&nbsp&nbsp&nbsp<img class='line' src='" + feature.properties.link + "'>&nbsp<img class='line' src='" + feature.properties.link2 + "'></h5>");
                }
                else if (barra.value == 26) {
                    layer.bindTooltip("<h5 class='infoHeader'><strong>" + feature.properties.stop_name + "<br><br> Validacions: " + feature.properties.v26 + "<br><br><img class='line' src='" + feature.properties.logo + "'>&nbsp<img class='line' src='" + feature.properties.logo2 + "'>&nbsp<img class='line' src='" + feature.properties.logo3 + "'>&nbsp<img class='line' src='" + feature.properties.logo4 + "'>&nbsp<img class='line' src='" + feature.properties.logo5 + "'>&nbsp<img class='line' src='" + feature.properties.logo6 + "'>&nbsp<img class='line' src='" + feature.properties.logo7 + "'>&nbsp<img class='line' src='" + feature.properties.logo8 + "'>&nbsp<img class='line' src='" + feature.properties.logo9 + "'>&nbsp&nbsp&nbsp&nbsp&nbsp<img class='line' src='" + feature.properties.link + "'>&nbsp<img class='line' src='" + feature.properties.link2 + "'></h5>");
                }
                else if (barra.value == 27) {
                    layer.bindTooltip("<h5 class='infoHeader'><strong>" + feature.properties.stop_name + "<br><br> Validacions: " + feature.properties.v27 + "<br><br><img class='line' src='" + feature.properties.logo + "'>&nbsp<img class='line' src='" + feature.properties.logo2 + "'>&nbsp<img class='line' src='" + feature.properties.logo3 + "'>&nbsp<img class='line' src='" + feature.properties.logo4 + "'>&nbsp<img class='line' src='" + feature.properties.logo5 + "'>&nbsp<img class='line' src='" + feature.properties.logo6 + "'>&nbsp<img class='line' src='" + feature.properties.logo7 + "'>&nbsp<img class='line' src='" + feature.properties.logo8 + "'>&nbsp<img class='line' src='" + feature.properties.logo9 + "'>&nbsp&nbsp&nbsp&nbsp&nbsp<img class='line' src='" + feature.properties.link + "'>&nbsp<img class='line' src='" + feature.properties.link2 + "'></h5>");
                }
                else if (barra.value == 28) {
                    layer.bindTooltip("<h5 class='infoHeader'><strong>" + feature.properties.stop_name + "<br><br> Validacions: " + feature.properties.v28 + "<br><br><img class='line' src='" + feature.properties.logo + "'>&nbsp<img class='line' src='" + feature.properties.logo2 + "'>&nbsp<img class='line' src='" + feature.properties.logo3 + "'>&nbsp<img class='line' src='" + feature.properties.logo4 + "'>&nbsp<img class='line' src='" + feature.properties.logo5 + "'>&nbsp<img class='line' src='" + feature.properties.logo6 + "'>&nbsp<img class='line' src='" + feature.properties.logo7 + "'>&nbsp<img class='line' src='" + feature.properties.logo8 + "'>&nbsp<img class='line' src='" + feature.properties.logo9 + "'>&nbsp&nbsp&nbsp&nbsp&nbsp<img class='line' src='" + feature.properties.link + "'>&nbsp<img class='line' src='" + feature.properties.link2 + "'></h5>");
                }
                else if (barra.value == 29) {
                    layer.bindTooltip("<h5 class='infoHeader'><strong>" + feature.properties.stop_name + "<br><br> Validacions: " + feature.properties.v29 + "<br><br><img class='line' src='" + feature.properties.logo + "'>&nbsp<img class='line' src='" + feature.properties.logo2 + "'>&nbsp<img class='line' src='" + feature.properties.logo3 + "'>&nbsp<img class='line' src='" + feature.properties.logo4 + "'>&nbsp<img class='line' src='" + feature.properties.logo5 + "'>&nbsp<img class='line' src='" + feature.properties.logo6 + "'>&nbsp<img class='line' src='" + feature.properties.logo7 + "'>&nbsp<img class='line' src='" + feature.properties.logo8 + "'>&nbsp<img class='line' src='" + feature.properties.logo9 + "'>&nbsp&nbsp&nbsp&nbsp&nbsp<img class='line' src='" + feature.properties.link + "'>&nbsp<img class='line' src='" + feature.properties.link2 + "'></h5>");
                }
                else if (barra.value == 30) {
                    layer.bindTooltip("<h5 class='infoHeader'><strong>" + feature.properties.stop_name + "<br><br> Validacions: " + feature.properties.v30 + "<br><br><img class='line' src='" + feature.properties.logo + "'>&nbsp<img class='line' src='" + feature.properties.logo2 + "'>&nbsp<img class='line' src='" + feature.properties.logo3 + "'>&nbsp<img class='line' src='" + feature.properties.logo4 + "'>&nbsp<img class='line' src='" + feature.properties.logo5 + "'>&nbsp<img class='line' src='" + feature.properties.logo6 + "'>&nbsp<img class='line' src='" + feature.properties.logo7 + "'>&nbsp<img class='line' src='" + feature.properties.logo8 + "'>&nbsp<img class='line' src='" + feature.properties.logo9 + "'>&nbsp&nbsp&nbsp&nbsp&nbsp<img class='line' src='" + feature.properties.link + "'>&nbsp<img class='line' src='" + feature.properties.link2 + "'></h5>");
                }
                else if (barra.value == 31) {
                    layer.bindTooltip("<h5 class='infoHeader'><strong>" + feature.properties.stop_name + "<br><br> Validacions: " + feature.properties.v31 + "<br><br><img class='line' src='" + feature.properties.logo + "'>&nbsp<img class='line' src='" + feature.properties.logo2 + "'>&nbsp<img class='line' src='" + feature.properties.logo3 + "'>&nbsp<img class='line' src='" + feature.properties.logo4 + "'>&nbsp<img class='line' src='" + feature.properties.logo5 + "'>&nbsp<img class='line' src='" + feature.properties.logo6 + "'>&nbsp<img class='line' src='" + feature.properties.logo7 + "'>&nbsp<img class='line' src='" + feature.properties.logo8 + "'>&nbsp<img class='line' src='" + feature.properties.logo9 + "'>&nbsp&nbsp&nbsp&nbsp&nbsp<img class='line' src='" + feature.properties.link + "'>&nbsp<img class='line' src='" + feature.properties.link2 + "'></h5>");
                }

                layer.on({
                    mouseover: highlightFeature,
                    mouseout: resetHighlight,
                    click: zoomToFeature2
                });

            }

            function onEachFeature2(feature, layer) {
                layer.bindTooltip("<h5 class='infoHeader'><strong>Línia:&nbsp<img class='line' src='" + feature.properties.logo + "'><br><br>" + feature.properties.routes_r_1 + "</h5>", { sticky: true });
                layer.on({
                    mouseover: highlightFeatureL,
                    mouseout: resetHighlightL,
                    click: zoomToFeature
                });
            }

            function onEachFeatureBus(feature, layer) {
                if (barra.value == 1) {
                    layer.bindTooltip("<h5 class='infoHeader'><strong>Linia: " + feature.properties.routes_rou + "<br><br> Validacions: " + feature.properties.v1 + "</h5>", { sticky: true });
                }
                else if (barra.value == 2) {
                    layer.bindTooltip("<h5 class='infoHeader'><strong>Linia: " + feature.properties.routes_rou + "<br><br> Validacions: " + feature.properties.v2 + "</h5>", { sticky: true });
                }
                else if (barra.value == 3) {
                    layer.bindTooltip("<h5 class='infoHeader'><strong>Linia: " + feature.properties.routes_rou + "<br><br> Validacions: " + feature.properties.v3 + "</h5>", { sticky: true });
                }
                else if (barra.value == 4) {
                    layer.bindTooltip("<h5 class='infoHeader'><strong>Linia: " + feature.properties.routes_rou + "<br><br> Validacions: " + feature.properties.v4 + "</h5>", { sticky: true });
                }
                else if (barra.value == 5) {
                    layer.bindTooltip("<h5 class='infoHeader'><strong>Linia: " + feature.properties.routes_rou + "<br><br> Validacions: " + feature.properties.v5 + "</h5>", { sticky: true });
                }
                else if (barra.value == 6) {
                    layer.bindTooltip("<h5 class='infoHeader'><strong>Linia: " + feature.properties.routes_rou + "<br><br> Validacions: " + feature.properties.v6 + "</h5>", { sticky: true });
                }
                else if (barra.value == 7) {
                    layer.bindPopup("<h5 class='infoHeader'><strong>Linia: " + feature.properties.routes_rou + "<br><br> Validacions: " + feature.properties.v7 + "</h5>", { sticky: true });
                    layer.bindTooltip("<h5 class='infoHeader'><strong>Linia: " + feature.properties.routes_rou + "<br><br> Validacions: " + feature.properties.v7 + "</h5>", { sticky: true });
                }
                else if (barra.value == 8) {
                    layer.bindTooltip("<h5 class='infoHeader'><strong>Linia: " + feature.properties.routes_rou + "<br><br> Validacions: " + feature.properties.v8 + "</h5>", { sticky: true });
                }
                else if (barra.value == 9) {
                    layer.bindTooltip("<h5 class='infoHeader'><strong>Linia: " + feature.properties.routes_rou + "<br><br> Validacions: " + feature.properties.v9 + "</h5>", { sticky: true });
                }
                else if (barra.value == 10) {
                    layer.bindTooltip("<h5 class='infoHeader'><strong>Linia: " + feature.properties.routes_rou + "<br><br> Validacions: " + feature.properties.v10 + "</h5>", { sticky: true });
                }
                else if (barra.value == 11) {
                    layer.bindTooltip("<h5 class='infoHeader'><strong>Linia: " + feature.properties.routes_rou + "<br><br> Validacions: " + feature.properties.v11 + "</h5>", { sticky: true });
                }
                else if (barra.value == 12) {
                    layer.bindTooltip("<h5 class='infoHeader'><strong>Linia: " + feature.properties.routes_rou + "<br><br> Validacions: " + feature.properties.v12 + "</h5>", { sticky: true });
                }
                else if (barra.value == 13) {
                    layer.bindTooltip("<h5 class='infoHeader'><strong>Linia: " + feature.properties.routes_rou + "<br><br> Validacions: " + feature.properties.v13 + "</h5>", { sticky: true });
                }
                else if (barra.value == 14) {
                    layer.bindTooltip("<h5 class='infoHeader'><strong>Linia: " + feature.properties.routes_rou + "<br><br> Validacions: " + feature.properties.v14 + "</h5>", { sticky: true });
                }
                else if (barra.value == 15) {
                    layer.bindTooltip("<h5 class='infoHeader'><strong>Linia: " + feature.properties.routes_rou + "<br><br> Validacions: " + feature.properties.v15 + "</h5>", { sticky: true });
                }
                else if (barra.value == 16) {
                    layer.bindTooltip("<h5 class='infoHeader'><strong>Linia: " + feature.properties.routes_rou + "<br><br> Validacions: " + feature.properties.v16 + "</h5>", { sticky: true });
                }
                else if (barra.value == 17) {
                    layer.bindTooltip("<h5 class='infoHeader'><strong>Linia: " + feature.properties.routes_rou + "<br><br> Validacions: " + feature.properties.v17 + "</h5>", { sticky: true });
                }
                else if (barra.value == 18) {
                    layer.bindTooltip("<h5 class='infoHeader'><strong>Linia: " + feature.properties.routes_rou + "<br><br> Validacions: " + feature.properties.v18 + "</h5>", { sticky: true });
                }
                else if (barra.value == 19) {

                    layer.bindTooltip("<h5 class='infoHeader'><strong>Linia: " + feature.properties.routes_rou + "<br><br> Validacions: " + feature.properties.v19 + "</h5>", { sticky: true });
                }
                else if (barra.value == 20) {
                    layer.bindTooltip("<h5 class='infoHeader'><strong>Linia: " + feature.properties.routes_rou + "<br><br> Validacions: " + feature.properties.v20 + "</h5>", { sticky: true });
                }
                else if (barra.value == 21) {
                    layer.bindTooltip("<h5 class='infoHeader'><strong>Linia: " + feature.properties.routes_rou + "<br><br> Validacions: " + feature.properties.v21 + "</h5>", { sticky: true });
                }
                else if (barra.value == 22) {
                    layer.bindTooltip("<h5 class='infoHeader'><strong>Linia: " + feature.properties.routes_rou + "<br><br> Validacions: " + feature.properties.v22 + "</h5>", { sticky: true });
                }
                else if (barra.value == 23) {
                    layer.bindTooltip("<h5 class='infoHeader'><strong>Linia: " + feature.properties.routes_rou + "<br><br> Validacions: " + feature.properties.v23 + "</h5>", { sticky: true });
                }
                else if (barra.value == 24) {
                    layer.bindTooltip("<h5 class='infoHeader'><strong>Linia: " + feature.properties.routes_rou + "<br><br> Validacions: " + feature.properties.v24 + "</h5>", { sticky: true });
                }
                else if (barra.value == 25) {
                    layer.bindTooltip("<h5 class='infoHeader'><strong>Linia: " + feature.properties.routes_rou + "<br><br> Validacions: " + feature.properties.v25 + "</h5>", { sticky: true });
                }
                else if (barra.value == 26) {
                    layer.bindTooltip("<h5 class='infoHeader'><strong>Linia: " + feature.properties.routes_rou + "<br><br> Validacions: " + feature.properties.v26 + "</h5>", { sticky: true });
                }
                else if (barra.value == 27) {
                    layer.bindTooltip("<h5 class='infoHeader'><strong>Linia: " + feature.properties.routes_rou + "<br><br> Validacions: " + feature.properties.v27 + "</h5>", { sticky: true });
                }
                else if (barra.value == 28) {
                    layer.bindTooltip("<h5 class='infoHeader'><strong>Linia: " + feature.properties.routes_rou + "<br><br> Validacions: " + feature.properties.v28 + "</h5>", { sticky: true });
                }
                else if (barra.value == 29) {
                    layer.bindTooltip("<h5 class='infoHeader'><strong>Linia: " + feature.properties.routes_rou + "<br><br> Validacions: " + feature.properties.v29 + "</h5>", { sticky: true });
                }
                else if (barra.value == 30) {
                    layer.bindTooltip("<h5 class='infoHeader'><strong>Linia: " + feature.properties.routes_rou + "<br><br> Validacions: " + feature.properties.v30 + "</h5>", { sticky: true });
                }
                else if (barra.value == 31) {
                    layer.bindTooltip("<h5 class='infoHeader'><strong>Linia: " + feature.properties.routes_rou + "<br><br> Validacions: " + feature.properties.v31 + "</h5>", { sticky: true });
                }


                layer.on({
                    click: zoomToFeature
                });
            }


            //Capa de metro TMB al iniciar el mapa

            drawTMB();



        });
    </script>

</body>

</html>